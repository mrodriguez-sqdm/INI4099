<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
	<sub-flow name="post-product-papi-clientSub_Flow" doc:id="904c72d1-7f39-440e-8bad-6af3413321be" >
		<logger level="INFO" doc:name="Logger" doc:id="85f2b59d-c0e7-47b7-a2f8-bf4de20294a7" message="#[attributes.queryParams]"/>
		<http:request method="POST" doc:name="Request" doc:id="65962ac8-daba-44d2-8e00-a7213d6cea04" config-ref="HTTP_Request_configuration_product-papi" path="${product-papi.productUsage.path}${product-papi.productUsage.endpoints.notify.path}">
			<http:headers ><![CDATA[#[output application/java
---
{
	"client_secret" : p('product-papi.client_secret'),
	"client_id" : p('product-papi.client_id'),
	"X-CORRELATION-ID": attributes.headers."X-CORRELATION-ID",
	"source": attributes.headers.source,
	"systemId": attributes.headers.systemId,
	"name": attributes.headers.name
	
}]]]></http:headers>
			<http:query-params ><![CDATA[#[output application/java
---
attributes.queryParams]]]></http:query-params>
		</http:request>
		<logger level="INFO" doc:name="Logger" doc:id="232bd61b-722f-4490-b590-3f645e573722" message="#[payload]"/>
	</sub-flow>
	<sub-flow name="get-product-offering-papi-clientSub_Flow" doc:id="032731f7-557b-464f-946d-70fd91c428c2"> 
	 <http:request method="GET" doc:name="Request" doc:id="6cbc68d2-a37f-4210-877b-305d16009ae6" config-ref="HTTP_Request_configuration_product-papi" path="${product-papi.productOffering.path}">
			<http:headers ><![CDATA[#[output application/java
---
{
	"client_secret" : p('product-papi.client_secret'),
	"client_id" : p('product-papi.client_id'),
	"X-CORRELATION-ID": attributes.headers."X-CORRELATION-ID",
	"source": attributes.headers.source,
	"systemId": attributes.headers.systemId,
	"name": attributes.headers.name
}]]]></http:headers>
			<http:query-params ><![CDATA[#[output application/java
---
attributes.queryParams]]]></http:query-params>
		</http:request>
	</sub-flow>
	<sub-flow name="get-promotion-papi-clientSub_Flow" doc:id="a3e22548-c7a9-4422-bc2f-48e8dac4334e" >
		<http:request method="GET" doc:name="Request" doc:id="ff16567c-f73c-4553-b6b9-f7955429a301" config-ref="HTTP_Request_configuration_product-papi" path="${product-papi.promotion.path}" >
			<http:headers ><![CDATA[#[output application/java
---
{
	"client_secret" : p('product-papi.client_secret'),
	"client_id" : p('product-papi.client_id'),
	"X-CORRELATION-ID": attributes.headers."X-CORRELATION-ID",
	"source": attributes.headers.source,
	"systemId": attributes.headers.systemId,
	"name": attributes.headers.name
	
}]]]></http:headers>
			<http:query-params ><![CDATA[#[attributes.queryParams]]]></http:query-params>
		</http:request>
	</sub-flow>
</mule>
