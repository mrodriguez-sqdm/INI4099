<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
	<sub-flow name="botServices-pqr-reagenda-clientSub_Flow" doc:id="9b2a7051-4153-4c03-a1bd-c0dcbda12505" >
		<async doc:name="Async" doc:id="d46b0826-e8ac-4967-b62b-443de0a736dd" >
			<flow-ref doc:name="Call Logger" doc:id="4632ac6f-5466-4cfe-8b02-1291119521a1" name="loggin-client-call" />
		</async>
		<http:request method="POST" doc:name="Call bot pqr reagenda" doc:id="0c28000a-60a8-442a-8db7-10b99d7eea71" config-ref="HTTP_Request_configuration_botServices" path="${botServices.pqrReagenda.path}" responseTimeout="#[p('botServices.responseTimeout')]" >
			<http:body ><![CDATA[#[vars.initialPayload]]]></http:body>
			<http:headers ><![CDATA[#[output application/java
---
{
	"x_civ_request" : vars.headers."x_civ_request",
	"Authorization" : "Bearer " ++ vars.generatedToken.WSResponseBody.SecurityToken
}]]]></http:headers>
		</http:request>
		<async doc:name="Async1" doc:id="29a5716e-776d-4f6f-8fe8-6997cf461f46" >
			<flow-ref doc:name="Call Logger" doc:id="971b85d5-152d-400b-8b6e-46f70c9f76e6" name="loggin-client-call" />
		</async>
	</sub-flow>
	<sub-flow name="botServices-pqr-agendaclose-clientSub_Flow" doc:id="2cb8a80e-7de7-40cd-a00f-2470362788e0" >
		<async doc:name="Async" doc:id="88c10f45-aec3-4ede-8563-5d1f6c714ffc" >
			<flow-ref doc:name="Call Logger" doc:id="83aa6fc7-3948-4012-9e20-5cd86a0d126d" name="loggin-client-call" />
		</async>
		<http:request method="POST" doc:name="Call bot pqr agendaclose" doc:id="bc990113-6c0b-4519-9ac5-f4164a4bcce9" config-ref="HTTP_Request_configuration_botServices" path="${botServices.pqrAgendaClose.path}" responseTimeout="#[p('botServices.responseTimeout')]" >
			<http:body ><![CDATA[#[vars.initialPayload]]]></http:body>
			<http:headers ><![CDATA[#[output application/java
---
{
	"x_civ_request" : vars.headers."x_civ_request",
	"Authorization" : "Bearer " ++ vars.generatedToken.WSResponseBody.SecurityToken
}]]]></http:headers>
		</http:request>
		<async doc:name="Async1" doc:id="d8158550-155f-409d-ad94-e03d15f7e8d4" >
			<flow-ref doc:name="Call Logger" doc:id="40b00be5-efc9-455d-a7f1-663445899300" name="loggin-client-call" />
		</async>
	</sub-flow>
	<sub-flow name="botServices-pqr-create-clientSub_Flow" doc:id="ea615fe7-12a1-4fb4-bfdc-2db8a6b2c7be" >
		<async doc:name="Async" doc:id="594ea459-1efc-442f-9dc6-e7afaa76b18e" >
			<flow-ref doc:name="Call Logger" doc:id="e7bfd509-2527-4dfa-81aa-95b891da6964" name="loggin-client-call" />
		</async>
		<http:request method="POST" doc:name="Call bot pqr create" doc:id="d23386fb-8de5-4b30-969b-5167850e6cbc" config-ref="HTTP_Request_configuration_botServices" path="${botServices.pqrCreate.path}" responseTimeout="#[p('botServices.responseTimeout')]" >
			<http:body ><![CDATA[#[vars.initialPayload]]]></http:body>
			<http:headers ><![CDATA[#[output application/java
---
{
	"x_civ_request" : vars.headers."x_civ_request",
	"Authorization" : "Bearer " ++ vars.generatedToken.WSResponseBody.SecurityToken
}]]]></http:headers>
		</http:request>
		<async doc:name="Async1" doc:id="38c3aca7-c5aa-4f68-a106-9679accda3f5" >
			<flow-ref doc:name="Call Logger" doc:id="d0137150-e83a-48fb-b95d-86e3dd8201c8" name="loggin-client-call" />
		</async>
	</sub-flow>
	<sub-flow name="botServices-pqr-get-clientSub_Flow" doc:id="09bc3435-529f-40de-bb43-9e1f354cf697" >
		<async doc:name="Async" doc:id="8879d1de-82e2-4d78-ac37-2e2dbdb790fd" >
			<flow-ref doc:name="Call Logger" doc:id="3b5cf3a0-1698-40da-9e1a-aea06cbd6971" name="loggin-client-call" />
		</async>
		<http:request method="POST" doc:name="Call bot pqr get" doc:id="df99e5e8-ec9e-4bbe-b06c-5472a8ae065f" config-ref="HTTP_Request_configuration_botServices" path="${botServices.pqrGet.path}" responseTimeout="#[p('botServices.responseTimeout')]" >
			<http:body ><![CDATA[#[vars.initialPayload]]]></http:body>
			<http:headers ><![CDATA[#[output application/java
---
{
	"x_civ_request" : vars.headers."x_civ_request",
	"Authorization" : "Bearer " ++ vars.generatedToken.WSResponseBody.SecurityToken
}]]]></http:headers>
		</http:request>
		<async doc:name="Async1" doc:id="4e24f4e2-73e1-4548-84d6-8e76b5409a22" >
			<flow-ref doc:name="Call Logger" doc:id="68fc0fdf-2645-4157-996c-51aa39c0f3ae" name="loggin-client-call" />
		</async>
	</sub-flow>
	<sub-flow name="botServices-pqr-update-clientSub_Flow" doc:id="0fb583c2-3ebd-49a6-a0ba-209d6a495080" >
		<async doc:name="Async" doc:id="c4b9422a-e679-4362-bdf8-e6cf6011d352" >
			<flow-ref doc:name="Call Logger" doc:id="8843bee6-0e2f-44d3-ad10-8067c8ae9e1b" name="loggin-client-call" />
		</async>
		<http:request method="POST" doc:name="Call bot pqr update" doc:id="ce65da86-02fa-4dce-9c45-f7bd4d395d65" config-ref="HTTP_Request_configuration_botServices" path="${botServices.pqrUpdate.path}" responseTimeout="#[p('botServices.responseTimeout')]" >
			<http:body ><![CDATA[#[vars.initialPayload]]]></http:body>
			<http:headers ><![CDATA[#[output application/java
---
{
	"x_civ_request" : vars.headers."x_civ_request",
	"Authorization" : "Bearer " ++ vars.generatedToken.WSResponseBody.SecurityToken
}]]]></http:headers>
		</http:request>
		<async doc:name="Async1" doc:id="21fdacb2-2a10-40c3-9a17-5564596f5462" >
			<flow-ref doc:name="Call Logger" doc:id="7a1f79ca-e33a-48c6-bef8-2c491a6ead6b" name="loggin-client-call" />
		</async>
	</sub-flow>
	<sub-flow name="botServices-pqr-agenda-clientSub_Flow" doc:id="ec7595aa-15f3-451e-b16b-4881bd442267" >
		<async doc:name="Async" doc:id="c52b0a70-5bd3-4804-8096-cbf3ae82f0a8" >
			<flow-ref doc:name="Call Logger" doc:id="fc64127b-d750-4a5e-a3f2-7be41442e7eb" name="loggin-client-call" />
		</async>
		<http:request method="POST" doc:name="Call bot pqr agenda" doc:id="76925f9d-08c6-4b8e-aa7d-0c6fbf6fc93e" config-ref="HTTP_Request_configuration_botServices" path="${botServices.pqrAgenda.path}" responseTimeout="#[p('botServices.responseTimeout')]" >
			<http:body ><![CDATA[#[vars.initialPayload]]]></http:body>
			<http:headers ><![CDATA[#[output application/java
---
{
	"x_civ_request" : vars.headers."x_civ_request",
	"Authorization" : "Bearer " ++ vars.generatedToken.WSResponseBody.SecurityToken
}]]]></http:headers>
		</http:request>
		<async doc:name="Async1" doc:id="69fa99c3-0e8d-4b6b-a456-a70748fe3a08" >
			<flow-ref doc:name="Call Logger" doc:id="007a2543-38da-4ddb-ae1f-dd7b9b2eb68a" name="loggin-client-call" />
		</async>
	</sub-flow>

</mule>
