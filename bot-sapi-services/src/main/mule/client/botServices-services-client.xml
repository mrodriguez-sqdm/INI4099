<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
	<sub-flow name="botServices-services-getinvoices-clientSub_Flow" doc:id="07021843-c95e-48ba-b320-6a29553ccece" >
		<async doc:name="Async" doc:id="c8c9b5c2-0992-46eb-88b3-a14297eb3fef" >
			<flow-ref doc:name="Call Logger" doc:id="f277997c-99ca-4ee1-98b8-0a0159b976a6" name="loggin-client-call" />
		</async>
		<http:request method="POST" doc:name="Call bot services getinvoices" doc:id="eb32f989-db6c-45ce-a3b7-cea17751640f" config-ref="HTTP_Request_configuration_botServices" path="${botServices.servicesGetinvoices.path}" responseTimeout="#[p('botServices.responseTimeout')]" >
			<http:body ><![CDATA[#[vars.initialPayload]]]></http:body>
			<http:headers ><![CDATA[#[output application/java
---
{
	"x_civ_request" : vars.headers."x_civ_request",
	"Authorization" : "Bearer " ++ vars.generatedToken.WSResponseBody.SecurityToken
}]]]></http:headers>
		</http:request>
		<async doc:name="Async1" doc:id="6506261a-85dc-4625-8179-3bff2b2ebdba" >
			<flow-ref doc:name="Call Logger" doc:id="74b3913e-6079-4b97-97d8-d229de83d042" name="loggin-client-call" />
		</async>
	</sub-flow>
	<sub-flow name="botServices-services-reconexion-clientSub_Flow" doc:id="2928f841-8494-4b41-b665-3bb60f180db6" >
		<async doc:name="Async" doc:id="a71cd385-b362-4158-96a1-62fd58f45959" >
			<flow-ref doc:name="Call Logger" doc:id="1dff0eea-e97d-4df6-8620-b0eef3d62708" name="loggin-client-call" />
		</async>
		<http:request method="POST" doc:name="Call bot services reconexion" doc:id="ec60284f-d310-494c-a249-292b052f20c5" config-ref="HTTP_Request_configuration_botServices" path="${botServices.servicesReconexion.path}" responseTimeout="#[p('botServices.responseTimeout')]" >
			<http:body ><![CDATA[#[vars.initialPayload]]]></http:body>
			<http:headers ><![CDATA[#[output application/java
---
{
	"x_civ_request" : vars.headers."x_civ_request",
	"Authorization" : "Bearer " ++ vars.generatedToken.WSResponseBody.SecurityToken
}]]]></http:headers>
		</http:request>
		<async doc:name="Async1" doc:id="4d4a9b3e-1ee1-4bd3-98f1-bc8729534ffd" >
			<flow-ref doc:name="Call Logger" doc:id="5b2fa8d6-c93f-44bb-85bb-11ee059d0151" name="loggin-client-call" />
		</async>
	</sub-flow>
	<sub-flow name="botServices-services-getbalance-clientSub_Flow" doc:id="01d3db2d-f117-4bee-8a87-c6c957db05d4" >
		<async doc:name="Async" doc:id="0c5f466c-e115-48c2-8234-b769886ab9b7" >
			<flow-ref doc:name="Call Logger" doc:id="e5749400-60f0-4140-a128-d00e979e6d50" name="loggin-client-call" />
		</async>
		<http:request method="POST" doc:name="Call bot services getbalance" doc:id="1b39175f-58b1-45c5-81c1-6f245b11c184" config-ref="HTTP_Request_configuration_botServices" path="${botServices.servicesGetbalance.path}" responseTimeout="#[p('botServices.responseTimeout')]" >
			<http:body ><![CDATA[#[vars.initialPayload]]]></http:body>
			<http:headers ><![CDATA[#[output application/java
---
{
	"x_civ_request" : vars.headers."x_civ_request",
	"Authorization" : "Bearer " ++ vars.generatedToken.WSResponseBody.SecurityToken
}]]]></http:headers>
		</http:request>
		<async doc:name="Async1" doc:id="fd9ac0b7-e8fe-4d36-ba99-58d741cefa47" >
			<flow-ref doc:name="Call Logger" doc:id="ea518b6c-26f9-47b2-8d8f-a6dd187f8bdb" name="loggin-client-call" />
		</async>
	</sub-flow>
	<sub-flow name="botServices-services-get-clientSub_Flow" doc:id="d6c68e84-ce82-4dc1-8a08-b5fdd5283ffb" >
		<async doc:name="Async" doc:id="4213d3f0-2069-4b8d-bc82-10882f84c458" >
			<flow-ref doc:name="Call Logger" doc:id="3db76740-2b58-470c-a795-827a89b93d82" name="loggin-client-call" />
		</async>
		<http:request method="POST" doc:name="Call bot services get" doc:id="96b56ae1-aa7c-4ae2-98e6-5786cf72c1fc" config-ref="HTTP_Request_configuration_botServices" path="${botServices.servicesGet.path}" responseTimeout="#[p('botServices.responseTimeout')]" >
			<http:body ><![CDATA[#[vars.initialPayload]]]></http:body>
			<http:headers ><![CDATA[#[output application/java
---
{
	"x_civ_request" : vars.headers."x_civ_request",
	"Authorization" : "Bearer " ++ vars.generatedToken.WSResponseBody.SecurityToken
}]]]></http:headers>
		</http:request>
		<async doc:name="Async1" doc:id="003ec4fe-10a9-4824-acfc-1fb81811ce6d" >
			<flow-ref doc:name="Call Logger" doc:id="c603a289-2f1c-448f-b944-009dc0c4849f" name="loggin-client-call" />
		</async>
	</sub-flow>
	<sub-flow name="botServices-services-withoutdebt-clientSub_Flow" doc:id="7e64372c-91ce-4f49-850f-577dc70ed359" >
		<async doc:name="Async" doc:id="8fa2dcee-3002-499e-92ac-8f222de94000" >
			<flow-ref doc:name="Call Logger" doc:id="2bf52e74-7383-4e91-89a4-4dccc9f7ea8e" name="loggin-client-call" />
		</async>
		<http:request method="POST" doc:name="Call bot services withoutdebt" doc:id="95b14716-cc14-4602-a4a0-12b631eccbee" config-ref="HTTP_Request_configuration_botServices" path="${botServices.servicesWithoutdebt.path}" responseTimeout="#[p('botServices.responseTimeout')]" >
			<http:body ><![CDATA[#[vars.initialPayload]]]></http:body>
			<http:headers ><![CDATA[#[output application/java
---
{
	"x_civ_request" : vars.headers."x_civ_request",
	"Authorization" : "Bearer " ++ vars.generatedToken.WSResponseBody.SecurityToken
}]]]></http:headers>
		</http:request>
		<async doc:name="Async1" doc:id="e07bc924-25aa-4539-b20b-7988e0bb775f" >
			<flow-ref doc:name="Call Logger" doc:id="354423d3-a118-4e51-8b79-13f17457af4e" name="loggin-client-call" />
		</async>
	</sub-flow>
	<sub-flow name="botServices-services-whypay-clientSub_Flow" doc:id="64f9be6e-5fe5-43ed-9af2-ac817f56603a" >
		<async doc:name="Async" doc:id="fcd250d8-dc9f-4197-8012-d78af78c4cde" >
			<flow-ref doc:name="Call Logger" doc:id="092fb91c-8180-434b-a525-f2f49932e24e" name="loggin-client-call" />
		</async>
		<http:request method="POST" doc:name="Call bot services whypay" doc:id="0f8201cd-7f81-4d3d-9ad4-1c1f07d29dc4" config-ref="HTTP_Request_configuration_botServices" path="${botServices.servicesWhypay.path}" responseTimeout="#[p('botServices.responseTimeout')]" >
			<http:body ><![CDATA[#[vars.initialPayload]]]></http:body>
			<http:headers ><![CDATA[#[output application/java
---
{
	"x_civ_request" : vars.headers."x_civ_request",
	"Authorization" : "Bearer " ++ vars.generatedToken.WSResponseBody.SecurityToken
}]]]></http:headers>
		</http:request>
		<async doc:name="Async1" doc:id="eb55f6f5-b3b0-4e02-9cbd-86348a771f37" >
			<flow-ref doc:name="Call Logger" doc:id="1244d041-aeb6-44c9-9722-6324130ed261" name="loggin-client-call" />
		</async>
	</sub-flow>
	<sub-flow name="botServices-services-requestinvoice-clientSub_Flow" doc:id="060265f5-e262-4544-9c14-15e74509fded" >
		<async doc:name="Async" doc:id="ff7d033b-6655-4d2a-a837-60b179d874ca" >
			<flow-ref doc:name="Call Logger" doc:id="0ace85f0-6f32-41ee-a397-df7ab49b8021" name="loggin-client-call" />
		</async>
		<http:request method="POST" doc:name="Call bot services requestinvoice" doc:id="aae74311-1bf0-443a-b67c-7f6a6c38b253" config-ref="HTTP_Request_configuration_botServices" path="${botServices.servicesRequestinvoice.path}" responseTimeout="#[p('botServices.responseTimeout')]" >
			<http:body ><![CDATA[#[vars.initialPayload]]]></http:body>
			<http:headers ><![CDATA[#[output application/java
---
{
	"x_civ_request" : vars.headers."x_civ_request",
	"Authorization" : "Bearer " ++ vars.generatedToken.WSResponseBody.SecurityToken
}]]]></http:headers>
		</http:request>
		<async doc:name="Async1" doc:id="1250f506-674b-4589-b408-4b43ad0207ee" >
			<flow-ref doc:name="Call Logger" doc:id="bfb2d49c-dc3f-4c1b-9de1-d0adef2372e2" name="loggin-client-call" />
		</async>
	</sub-flow>
</mule>
