<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
	<sub-flow name="botServices-max-route-clientSub_Flow" doc:id="ffbb2bea-cb36-43f2-8762-cdfc32a9bf2a" >
		<async doc:name="Async" doc:id="17f130df-fbb2-48d4-9845-c2a12a3affd2" >
			<flow-ref doc:name="Call Logger" doc:id="09110098-f24a-45f0-b1ba-9085dad5b0f0" name="loggin-client-call" />
		</async>
		<http:request method="POST" doc:name="Call bot max route" doc:id="a53ee938-f587-426a-9924-a63acbef6990" config-ref="HTTP_Request_configuration_botServices" path="${botServices.maxRoute.path}" responseTimeout="#[p('botServices.responseTimeout')]" >
			<http:body ><![CDATA[#[vars.initialPayload]]]></http:body>
			<http:headers ><![CDATA[#[output application/java
---
{
	"x_civ_request" : vars.headers."x_civ_request",
	"Authorization" : "Bearer " ++ vars.generatedToken.WSResponseBody.SecurityToken
}]]]></http:headers>
		</http:request>
		<async doc:name="Async1" doc:id="78435ec0-7387-4f48-9f77-04add66ba291" >
			<flow-ref doc:name="Call Logger" doc:id="7ca520ba-b7b4-4386-8f4f-2479308eaca3" name="loggin-client-call" />
		</async>
	</sub-flow>
</mule>
