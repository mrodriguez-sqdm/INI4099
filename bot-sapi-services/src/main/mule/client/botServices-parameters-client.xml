<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
	<sub-flow name="botServices-parameters-getCities-clientSub_Flow" doc:id="77a9ba8e-03f6-4f3b-be83-9174091b68d2" >
		<async doc:name="Async" doc:id="453984d5-c71d-4b56-8980-8114033a2f1c" >
			<flow-ref doc:name="Call Logger" doc:id="a4361734-06e4-4198-a7f9-f52a80ff5b1d" name="loggin-client-call" />
		</async>
		<logger level="WARN" doc:name="requestBot" doc:id="011697c0-d5fd-466a-a39a-150c723f3902" message="#[payload]" />
		<http:request method="POST" doc:name="Call bot parameters getcities" doc:id="c6f0d118-8ef7-4428-95f8-32a2de5458fd" config-ref="HTTP_Request_configuration_botServices" path="${botServices.parameterGetCities.path}" responseTimeout="#[p('botServices.responseTimeout')]" >
			<http:body ><![CDATA[#[vars.initialPayload]]]></http:body>
			<http:headers ><![CDATA[#[output application/java
---
{
	"x_civ_request" : vars.headers."x_civ_request",
	"Authorization" : "Bearer " ++ vars.generatedToken.WSResponseBody.SecurityToken
}]]]></http:headers>
		</http:request>
		<logger level="WARN" doc:name="responseBot" doc:id="f7610d47-73c2-474d-8934-6505fdf56c19" message="#[payload]" />
		<async doc:name="Async1" doc:id="28e1bf00-472d-4388-a14b-c28f6ad515ba" >
			<flow-ref doc:name="Call Logger" doc:id="9ed87f8b-040c-4a2d-851c-16ae83225646" name="loggin-client-call" />
		</async>
	</sub-flow>
	<sub-flow name="botServices-parameters-getDepartemts-clientSub_Flow" doc:id="3d5cbff8-fc8f-4ea2-a689-47e444f73377" >
		<async doc:name="Async" doc:id="76a043e8-beb4-4b6e-966b-3ebfce493992" >
			<flow-ref doc:name="Call Logger" doc:id="22045bd9-7362-44ad-bfab-2a7e587a9c3e" name="loggin-client-call" />
		</async>
		<http:request method="POST" doc:name="Call bot parameters getdepartments" doc:id="db3cce71-d0df-49a5-8f63-029ab1edd133" config-ref="HTTP_Request_configuration_botServices" path="${botServices.parameterGetDepartment.path}" responseTimeout="#[p('botServices.responseTimeout')]" >
			<http:body ><![CDATA[#[vars.initialPayload]]]></http:body>
			<http:headers ><![CDATA[#[output application/java
---
{
	"x_civ_request" : vars.headers."x_civ_request",
	"Authorization" : "Bearer " ++ vars.generatedToken.WSResponseBody.SecurityToken
}]]]></http:headers>
		</http:request>
		<async doc:name="Async1" doc:id="860ed016-a3f1-4b54-98f7-514afce8c6b9" >
			<flow-ref doc:name="Call Logger" doc:id="08a6db48-361f-4d00-9e78-bebd88d632b7" name="loggin-client-call" />
		</async>
	</sub-flow>
	<sub-flow name="botServices-parameters-getOperators-clientSub_Flow" doc:id="e0fbda8c-66be-4dcb-a945-8ed177f54bc9" >
		<async doc:name="Async" doc:id="248fe6d5-5d67-46a8-ba12-c2ec08385027" >
			<flow-ref doc:name="Call Logger" doc:id="05de948a-22b1-4dcc-9be5-bea465d589dc" name="loggin-client-call" />
		</async>
		<http:request method="GET" doc:name="Call bot parameters getoperators" doc:id="448ca8f6-409b-457c-b1ed-055ddd5dca78" config-ref="HTTP_Request_configuration_botServices" path="${botServices.parameterGetOperators.path}" responseTimeout="#[p('botServices.responseTimeout')]" >
			<http:body ><![CDATA[#[vars.initialPayload]]]></http:body>
			<http:headers ><![CDATA[#[output application/java
---
{
	"x_civ_request" : vars.headers."x_civ_request",
	"Authorization" : "Bearer " ++ vars.generatedToken.WSResponseBody.SecurityToken
}]]]></http:headers>
		</http:request>
		<async doc:name="Async1" doc:id="b8c5cf09-7499-4707-987d-88ec1b016227" >
			<flow-ref doc:name="Call Logger" doc:id="779f953b-99bc-4742-8f68-b72d9d9bb91f" name="loggin-client-call" />
		</async>
	</sub-flow>
	<sub-flow name="botServices-parameters-getBusinessdays-clientSub_Flow" doc:id="fbd9f28f-0b23-4a56-b1f3-cf659e22373a" >
		<async doc:name="Async" doc:id="9b0979e7-2b0b-4757-b171-5f0345169bb4" >
			<flow-ref doc:name="Call Logger" doc:id="19d1a830-3002-4373-b932-6eda5c594fa7" name="loggin-client-call" />
		</async>
		<http:request method="GET" doc:name="Call bot parameters getbusinessdays" doc:id="0689e028-8943-4c03-af35-7880ae05c721" config-ref="HTTP_Request_configuration_botServices" path="${botServices.parameterGetBusinessdays.path}" responseTimeout="#[p('botServices.responseTimeout')]" >
			<http:body ><![CDATA[#[vars.initialPayload]]]></http:body>
			<http:headers ><![CDATA[#[output application/java
---
{
	"x_civ_request" : vars.headers."x_civ_request",
	"Authorization" : "Bearer " ++ vars.generatedToken.WSResponseBody.SecurityToken
}]]]></http:headers>
		</http:request>
		<async doc:name="Async1" doc:id="1d13c0ac-731d-429a-bf60-03a8461713a3" >
			<flow-ref doc:name="Call Logger" doc:id="0dc234f0-d830-4a2f-97f0-438a4acf1f87" name="loggin-client-call" />
		</async>
	</sub-flow>
	<sub-flow name="botServices-parameters-getServicesTypePortability-clientSub_Flow" doc:id="c6cb5963-686a-4a00-b607-e70fb87cefe7" >
		<async doc:name="Async" doc:id="e0bf0e73-6e30-435d-b117-531f3162e76e" >
			<flow-ref doc:name="Call Logger" doc:id="bf3ecaf7-34fb-4400-b4b9-1ca4952aa0a8" name="loggin-client-call" />
		</async>
		<http:request method="GET" doc:name="Call bot parameters getservicestypeportability" doc:id="60e90e8c-fd6d-4ed6-ac94-2083db07e47f" config-ref="HTTP_Request_configuration_botServices" path="${botServices.parameterGetServicesTypePortability.path}" responseTimeout="#[p('botServices.responseTimeout')]" >
			<http:body ><![CDATA[#[vars.initialPayload]]]></http:body>
			<http:headers ><![CDATA[#[output application/java
---
{
	"x_civ_request" : vars.headers."x_civ_request",
	"Authorization" : "Bearer " ++ vars.generatedToken.WSResponseBody.SecurityToken
}]]]></http:headers>
		</http:request>
		<async doc:name="Async1" doc:id="80c53307-7a7b-4d8d-a1ce-201649c5d8e8" >
			<flow-ref doc:name="Call Logger" doc:id="094818a4-099e-4d12-b62b-12b21977645e" name="loggin-client-call" />
		</async>
	</sub-flow>
</mule>
