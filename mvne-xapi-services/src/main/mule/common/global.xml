<?xml version="1.0" encoding="UTF-8"?>

<mulexmlns:os="http://www.mulesoft.org/schema/mule/os"
	
	xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core"
	xmlns:api-gateway="http://www.mulesoft.org/schema/mule/api-gateway"
	xmlns:tls="http://www.mulesoft.org/schema/mule/tls"
	xmlns:apikit="http://www.mulesoft.org/schema/mule/mule-apikit"
	xmlns:http="http://www.mulesoft.org/schema/mule/http"
	xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd 
http://www.mulesoft.org/schema/mule/api-gateway http://www.mulesoft.org/schema/mule/api-gateway/current/mule-api-gateway.xsd 
http://www.mulesoft.org/schema/mule/tls http://www.mulesoft.org/schema/mule/tls/current/mule-tls.xsd 
http://www.mulesoft.org/schema/mule/mule-apikit http://www.mulesoft.org/schema/mule/mule-apikit/current/mule-apikit.xsd http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/os http://www.mulesoft.org/schema/mule/os/current/mule-os.xsd">
    <http:listener-config name="mvne-xapi-services-httpListenerConfig" doc:name="HTTP Listener config" doc:id="a335eb42-e54a-4d6f-ad6b-3ef662d811b6">
        <http:listener-connection host="${https.host}" port="${https.port}" tlsContext="TLS_Context" protocol="HTTPS" />
    </http:listener-config>
    <apikit:config name="mvne-xapi-services-config" api="mvne-xapi-services.raml" outboundHeadersMapName="outboundHeaders" httpStatusVarName="httpStatus" />
	<tls:context name="TLS_Context" doc:name="TLS Context"
		doc:id="992d99f7-d596-490d-b82f-d7e09535e421">
		<tls:trust-store insecure="true" />
		<tls:key-store type="${tls.type}" path="${tls.path}"
			keyPassword="${tls.keyPassword}" password="${tls.password}" />
	</tls:context>
	<configuration-properties doc:name="Configuration properties" doc:id="8bdc31e9-8469-4a88-820a-f22163587d3b" file="${env}-properties.yaml" /><api-gateway:autodiscovery apiId="${autodiscovery}" ignoreBasePath="true" doc:name="API Autodiscovery" doc:id="2b3b519b-cda0-4253-9f02-740fb4288ec3" flowRef="mvne-xapi-services-main" />
	<import doc:name="Import" doc:id="f8870e32-299a-469d-869e-7df6baef153e" file="error-handler.xml" />
	<import doc:name="Import" doc:id="c9fbe257-cb5e-49ee-b5f3-48428ff3256e" file="loggin.xml" />
	<import doc:name="Import" doc:id="7c787b05-45b9-4d2b-ad9a-334565197865" file="audits-sapi-client.xml" />
	<import doc:name="Import" doc:id="aae03610-fc40-4afd-ab95-bfacff4ad2f9" file="etb-common-lib.xml" />
	<http:request-config name="HTTP_Request_configuration-service-papi-services" doc:name="HTTP Request configuration" doc:id="0723e7e1-1d8a-483a-9ef4-642bea0998e7" basePath="${service-papi-services.basePath}" responseTimeout="${configurationTimeout.services-papi}">
		<http:request-connection protocol="${service-papi-services.protocol}" host="${service-papi-services.host}" port="${service-papi-services.port}" />
	</http:request-config>
	<http:request-config name="HTTP_Request_configuration-operations-papi-services" doc:name="HTTP Request configuration" doc:id="2630afb7-bb87-47e4-9535-6b5e7e9384d8" basePath="${operations-papi-services.basePath}" responseTimeout="${configurationTimeout.services-papi}">
		<http:request-connection protocol="${operations-papi-services.protocol}" host="${operations-papi-services.host}" port="${operations-papi-services.port}" />
	</http:request-config>
	<http:request-config name="HTTP_Request_configuration_azure" doc:name="HTTP Request configuration" doc:id="9a059a1d-24a3-477d-99a1-32fe54b2bc8c" basePath="${azure-sapi.basepath}" responseTimeout="${configurationTimeout.azure-sapi}">
		<http:request-connection host="${azure-sapi.host}" port="${azure-sapi.port}" protocol="${azure-sapi.protocol}"/>
	</http:request-config>
	<http:request-config name="oAuth-HTTP_Request_configuration" doc:name="HTTP Request configuration" doc:id="1d15f0fe-0d33-4ba1-9586-d57456ebf53c" basePath="${oAuthSapi.basepath}" responseTimeout="${configurationTimeout.oAuth}">
		<http:request-connection protocol="${oAuthSapi.protocol}" host="${oAuthSapi.host}" port="${oAuthSapi.port}" >
			<tls:context >
				<tls:trust-store insecure="true" />
			</tls:context>
		</http:request-connection>
	</http:request-config>
	<http:request-config name="AuditsMongoSapi_Request_configuration" doc:name="HTTP Request configuration" doc:id="3269ddda-013d-42b8-81b8-6b576927e4ec" basePath="${audits-mongo-sapi.basePath}" responseTimeout="${configurationTimeout.audits-mongo}">
		<http:request-connection protocol="${audits-mongo-sapi.protocol}" host="${audits-mongo-sapi.host}" port="${audits-mongo-sapi.port}" />
	</http:request-config>
	<http:request-config name="HTTP_Request_configuration_mongo" doc:name="HTTP Request configuration" doc:id="713e7532-e051-4334-9ef7-c7a896aac428" basePath="${mongo-sapi.basepath}" responseTimeout="${configurationTimeout.mongo-sapi}">
		<http:request-connection protocol="${mongo-sapi.protocol}" host="${mongo-sapi.host}" port="${mongo-sapi.port}" />
	</http:request-config>
	<http:request-config name="HTTP_Request_configuration_sisext" doc:name="HTTP Request configuration" doc:id="61be1a62-0e0d-41e5-8756-d59d64555603" basePath="${sisext-sapi.basepath}" responseTimeout="${configurationTimeout.sisext-sapi}">
		<http:request-connection protocol="${sisext-sapi.protocol}" host="${sisext-sapi.host}" port="${sisext-sapi.port}" />
	</http:request-config>	
	<http:request-config name="HTTP_Request_configuration_jsc" doc:name="HTTP Request configuration" doc:id="7c0f6417-9543-4c49-947d-1aeb674c1788" basePath="${jsc-sapi.basePath}" responseTimeout="${configurationTimeout.jsc-sapi}" >
		<http:request-connection protocol="${jsc-sapi.protocol}" host="${jsc-sapi.host}" port="${jsc-sapi.port}" />
	</http:request-config>	
	<ee:object-store-caching-strategy name="Caching_Strategy_Secret" doc:name="Caching Strategy" doc:id="4bda6d49-c6ff-47b5-bbe2-a1bd1368f3de" objectStore="Object_store_secret">
	</ee:object-store-caching-strategy>
	<os:object-store name="Object_store_secret" doc:name="Object store" doc:id="c5770d75-64e8-4399-b38c-893c51f043c1" persistent="false" maxEntries="10" entryTtl="5" entryTtlUnit="MINUTES" expirationInterval="30" />
</mule>
