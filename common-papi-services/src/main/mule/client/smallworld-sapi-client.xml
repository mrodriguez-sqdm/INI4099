<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
	<sub-flow name="get-coverage-clientSub_Flow" doc:id="1fd92df7-de46-4f55-bcf9-4b969c1c195f" >
		<http:request method="GET" doc:name="Go to smallworld-sapi get coverage" doc:id="c8943775-af30-4ee9-a18a-ce0556c62d11" config-ref="HTTP_Request_configuration_smallworld" path="${smallworld-sapi.path.coverage}">
			<http:headers><![CDATA[#[{
				"client_id": "${smallworld-sapi.username}",
				"client_secret": "${smallworld-sapi.password}"
			}]]]></http:headers>
			<http:query-params><![CDATA[#[{
				latitude: attributes.queryParams.latitude,
				longitude: attributes.queryParams.longitude
			}]]]></http:query-params>
		</http:request>
	</sub-flow>
	<sub-flow name="get-geocodificar-clientSub_Flow" doc:id="geocodificar-client-subflow" >
		<http:request method="GET" doc:name="Go to smallworld-sapi geocodificar" doc:id="smallworld-geocodificar-request" config-ref="HTTP_Request_configuration_smallworld" path="${smallworld-sapi.path.geocodificar}">
			<http:headers><![CDATA[#[{
				"client_id": "${smallworld-sapi.username}",
				"client_secret": "${smallworld-sapi.password}"
			}]]]></http:headers>
			<http:query-params><![CDATA[#[{
				address: attributes.queryParams.address
			}]]]></http:query-params>
		</http:request>
	</sub-flow>
	<sub-flow name="get-georeference-clientSub_Flow" doc:id="georeference-client-subflow" >
		<http:request method="GET" doc:name="Go to smallworld-sapi georeference" doc:id="smallworld-georeference-request" config-ref="HTTP_Request_configuration_smallworld" path="${smallworld-sapi.path.georeference}">
			<http:headers><![CDATA[#[{
				"client_id": "${smallworld-sapi.username}",
				"client_secret": "${smallworld-sapi.password}"
			}]]]></http:headers>
			<http:query-params><![CDATA[#[{
				address: attributes.queryParams.address,
				municipioCode: attributes.queryParams.municipioCode default "",
				departamentoCode: attributes.queryParams.departamentoCode default ""
			}]]]></http:query-params>
		</http:request>
	</sub-flow>
</mule>
