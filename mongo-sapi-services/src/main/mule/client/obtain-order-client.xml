<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:mongo="http://www.mulesoft.org/schema/mule/mongo" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/mongo http://www.mulesoft.org/schema/mule/mongo/current/mule-mongo.xsd">
	<sub-flow name="obtain-order-clientSub_Flow" doc:id="38d00b3f-a7a6-449f-9cf1-729489cfd4ef" >
		<async doc:name="Async" doc:id="12e77d9a-93c9-40aa-b274-32271ca404a1" >
			<flow-ref doc:name="Call logger before" doc:id="6c9d124b-86c2-4d73-8ed3-a50fbfee125d" name="loggin-client-call"/>
		</async>
		<mongo:find-documents collectionName="${mongoDb.collectionOrden}" fields="," doc:name="Obtain order by his orderOM" doc:id="8787b7ce-506e-4b92-bed9-4fba8decc36d" config-ref="or_db_config" limit="#[1]">
			<mongo:query ><![CDATA[#["{ 'ordenOM': '" ++ vars.ordenOm ++ "'}"]]]></mongo:query>
		</mongo:find-documents>
		<async doc:name="Async" doc:id="ba209947-3872-4998-9280-346096e1de44" >
			<flow-ref doc:name="Call logger after" doc:id="d1a9a759-aef6-476e-9e40-4024ae19013e" name="loggin-client-call"/>
		</async>
	</sub-flow>
</mule>
