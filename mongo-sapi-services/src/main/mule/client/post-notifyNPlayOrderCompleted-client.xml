<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:mongo="http://www.mulesoft.org/schema/mule/mongo" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd http://www.mulesoft.org/schema/mule/mongo http://www.mulesoft.org/schema/mule/mongo/current/mule-mongo.xsd">
	<sub-flow name="post-notifyNPlayOrderCompleted-clientSub_Flow" doc:id="e62de42e-5a88-4bd3-ac2b-52f05dd7cbaa">
		<async doc:name="Async" doc:id="c635513f-4776-4364-9a62-26fc723ec4b1" >
			<flow-ref doc:name="Call logger before" doc:id="4fce66ed-2dec-4e60-a2a3-8e6d26a09b94" name="loggin-client-call"/>
		</async>
		<until-successful maxRetries="#[p('retryConfiguration.maxRetry')]" doc:name="max 3 retries" doc:id="3a71b96e-ecdd-4508-aad4-cccc4dffe686" millisBetweenRetries="0">
			<mongo:insert-document doc:name="Insert notifyNPlayOrderCompleted" doc:id="7516a3e3-5a7a-44f1-b18a-5e7623b15d2f" config-ref="mdm_db_Config" collectionName="#[p('mongoDb-mdm.tibco.collection')]" />
		</until-successful>
		<async doc:name="Async" doc:id="10f1dd87-4bf6-4ae9-89b1-0b36a7afd805" >
			<flow-ref doc:name="Call logger after" doc:id="3c2936f8-9ee3-488c-b1f9-81c676dbfa5a" name="loggin-client-call"/>
		</async>
	</sub-flow>
</mule>
