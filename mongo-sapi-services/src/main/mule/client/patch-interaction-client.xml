<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns:mongo="http://www.mulesoft.org/schema/mule/mongo"
	xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/mongo http://www.mulesoft.org/schema/mule/mongo/current/mule-mongo.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	<sub-flow name="patch-interaction-clientSub_Flow" doc:id="1b84f731-4ffe-41bf-b9f5-262f120573b4" >
		<async doc:name="Async" doc:id="686cd98b-514d-48f9-8aee-130b5b98f410">
			<flow-ref doc:name="Call logger before" doc:id="11265926-9b4c-4944-a6a7-e2cb8a05fc47" name="loggin-client-call" />
		</async>
		<mongo:update-documents doc:name="Update documents" doc:id="90a6ab54-a1a3-43ec-a51e-589bd637b8cd" config-ref="mdm_db_Config" collectionName="${mongoDb-mdm.otiniciativas.collection-interaction-hcm}">
						<mongo:query ><![CDATA[#[output application/json
---
{ 
	"Id_Iteracion":  attributes.queryParams.idIteracion
}]]]></mongo:query>
		</mongo:update-documents>
		<ee:transform doc:name="Transform Message" doc:id="8cbbb610-f0ac-4eb5-adcd-1ed13556a386" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
payload]]></ee:set-payload>
			</ee:message>
			<ee:variables >
			</ee:variables>
		</ee:transform>
		<async doc:name="Async" doc:id="4c6ef7a3-ea09-4bf3-ba91-8ed43b3a078b">
			<flow-ref doc:name="Call logger after" doc:id="367d0a37-3732-4946-9bfc-f6a6b4c47efb" name="loggin-client-call" />
		</async>
	</sub-flow>
</mule>
