<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns:mongo="http://www.mulesoft.org/schema/mule/mongo"
	xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/mongo http://www.mulesoft.org/schema/mule/mongo/current/mule-mongo.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	<sub-flow name="delete-interaction-clientSub_Flow" doc:id="da308e37-e0e4-4812-b23c-27a56167d571" >
		<async doc:name="Async" doc:id="59014e72-ee90-4102-a26a-dafba8251d4c">
			<flow-ref doc:name="Call logger before" doc:id="7ec4e4be-205c-4dcf-98df-09f13dd26fb2" name="loggin-client-call" />
		</async>
		<scatter-gather doc:name="Scatter-Gather" doc:id="1802c162-332e-4f82-9e06-69837cef593b" >
			<route >
				<mongo:remove-documents collectionName="${mongoDb-mdm.otiniciativas.collection-logs}" doc:name="Remove in MDM_HSM_INTERACCION_LOG" doc:id="691dc5c2-a18b-4350-b87b-a445395ae7df" config-ref="mdm_db_Config">
			<mongo:query><![CDATA[#[output application/json
---
{
	Id_Iteracion: attributes.queryParams.idIteracion
}]]]></mongo:query>
		</mongo:remove-documents>
			</route>
			<route >
				<mongo:remove-documents doc:name="Remove in MDM_HSM_INTERACCION" doc:id="586a9463-6e19-4419-be46-77dd5c27e4dc" config-ref="mdm_db_Config" collectionName="${mongoDb-mdm.otiniciativas.collection-interaction-hcm}">
			<mongo:query><![CDATA[#[output application/json
---
{
	Id_Iteracion: attributes.queryParams.idIteracion
}]]]></mongo:query>
		</mongo:remove-documents>
			</route>
		</scatter-gather>
				<async doc:name="Async" doc:id="ce08d3b1-2302-40bf-b557-fb77b5b913a7" >
			<flow-ref doc:name="Call logger after" doc:id="e4bc069a-ddee-49a3-b3e3-07d19f5c6420" name="loggin-client-call" />
		</async>
	</sub-flow>
</mule>
