<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:mongo="http://www.mulesoft.org/schema/mule/mongo" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/mongo http://www.mulesoft.org/schema/mule/mongo/current/mule-mongo.xsd">
	<sub-flow name="obtain-parameters-clientSub_Flow" doc:id="4c566144-9e40-43da-b36e-e062d53e4162" >
		<async doc:name="Async" doc:id="81baf846-632b-4a1c-a089-9d1889819e67" >
			<flow-ref doc:name="Call logger before" doc:id="c0730e09-46f9-4e1c-ac28-27cb8bbbca51" name="loggin-client-call"/>
		</async>
		<mongo:find-documents doc:name="Obtain Parameters" doc:id="837b4171-2541-4e53-a44c-d68bb49e67b6" config-ref="or_db_config" collectionName="${mongoDb.collectionParametro}" fields=","/>
		<async doc:name="Async" doc:id="00bce9a7-58bd-4223-ab25-0c772539611f" >
			<flow-ref doc:name="Call logger after" doc:id="8f9bf8c5-2dfa-42cc-8fea-d73ec96a2fd3" name="loggin-client-call"/>
		</async>
	</sub-flow>
	<sub-flow name="obtain-parametersIntegracionesTramites-clientSub_Flow" doc:id="90d506c0-5928-4624-94eb-1850b4fe4062" >
		<async doc:name="Async" doc:id="23f51687-ee6c-4289-8976-ee52b9313b7d" >
			<flow-ref doc:name="Call logger before" doc:id="e673f458-ac5a-4137-97f6-2fab5570db72" name="loggin-client-call"/>
		</async>
		<mongo:find-documents doc:name="Obtain Parameters" doc:id="745eaa93-cd4a-4c63-8148-e4b9b4690b22" config-ref="or_db_config" collectionName="${mongoDb.collectionIntegracionesTramites}" fields=",">
			<mongo:query ><![CDATA[#[output application/json
---
{
	("codigoProductoSF": attributes.queryParams.codigoProducto) if (!isBlank(attributes.queryParams.codigoProducto)),
	"estado": "Activo"
}]]]></mongo:query>
		</mongo:find-documents>
		<async doc:name="Async" doc:id="5a883262-c4db-4cfb-a8b8-cf4231151e84" >
			<flow-ref doc:name="Call logger after" doc:id="d016bc82-3d50-4458-8626-c68ec03e0044" name="loggin-client-call"/>
		</async>
	</sub-flow>
</mule>
