<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	<sub-flow name="obtain-parameters-orchestratorSub_Flow" doc:id="52fb44c0-a243-4223-90bc-772885a2f8fe" >
		<flow-ref doc:name="Go to Client" doc:id="90feff50-3e81-4839-af85-81d347381070" name="obtain-parameters-clientSub_Flow"/>
		<ee:transform doc:name="Map Output" doc:id="8b52026f-fa51-4b6b-99dd-15b8890aaa9c" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
var resultadoMsg = if(payload != []) 'Positivo' else "Negativo"
var descripcionMsg = if(payload != []) null else "Problemas en la obtencion de los parametros"
output application/json skipNullOn="everywhere"
---
{
resultados: payload map {
                "UsuarioCreacion": $.UsuarioCreacion,
                "FechaCreacion": $.FechaCreacion,
                "UsuarioModificacion": $.UsuarioModificacion,
                "FechaModificacion": $.FechaModificacion,
                "ActualizacionExtractor": $.ActualizacionExtractor,
                "Tipo": $.Tipo,
                "TotalValoresConfig": $.TotalValoresConfig,
                "Estado": $.Estado,
                "Valores": $.Valores
                },
resultado: resultadoMsg,
fecha: now(),
descripcion: descripcionMsg
}
]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</sub-flow>
</mule>
