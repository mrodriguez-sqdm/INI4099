<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd">
	<sub-flow name="get-clientByDocument-handlerSub_Flow" doc:id="cdd1ab64-0ba4-4925-9912-65b8bb297289" >
		<set-variable value="#[attributes.headers.logs]" doc:name="logs" doc:id="dc02e453-877d-4dc7-9eea-b3959f3fa46c" variableName="logs"/>
		<flow-ref doc:name="Go to Orchestrator" doc:id="b2767608-31b3-4acf-81aa-7f1d6c2b7109" name="get-clientByDocument-orchestratorSub_Flow"/>
	</sub-flow>
	<sub-flow name="get-clientByEmail-handlerSub_Flow" doc:id="c78aae36-31f3-4700-9367-da9088d17c3c" >
		<set-variable value="#[attributes.headers.logs]" doc:name="logs" doc:id="2d5a6521-575c-42a2-8bf1-9ef32fd734f0" variableName="logs" />
		<set-variable value="#[%dw 2.0&#10;output application/java&#10;import decodeURI from dw::core::URL&#10;---&#10;decodeURI(attributes.uriParams.'email')]" doc:name="email" doc:id="91475656-1e91-4d63-a4ee-a59351b60bc3" variableName="email"/>
		<set-variable value="#[%dw 2.0&#10;output application/java&#10;---&#10;attributes.queryParams.'numeroIdentificacion']" doc:name="NumIdentificacion" doc:id="12f18cf0-89be-4d5a-a440-9b88f0ab63b7" variableName="NumIdentificacion" />
		<set-variable value="#[%dw 2.0&#10;output application/java&#10;---&#10;attributes.queryParams.'tipoDocumento']" doc:name="TipoIdentificacion" doc:id="7901c5c3-ab44-44a3-a206-3fe027e560fa" variableName="TipoIdentificacion" />
	<set-variable value="#[attributes.headers.name]" doc:name="Set name" doc:id="1d4507c7-e95c-4f55-82c2-ec988d19d1e2" variableName="name"/>
		<flow-ref doc:name="Go to Orchestrator" doc:id="6d504f65-bdf4-4ed9-b993-09fcdd4ecfc5" name="get-clientByEmail-orchestratorSub_Flow"/>
	</sub-flow>
</mule>
