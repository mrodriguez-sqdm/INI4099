<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	<sub-flow name="get-accountCycle-orchestratorSub_Flow" doc:id="c9c1f120-9490-40b9-b2b5-c0aec015831d" >
		<parse-template doc:name="Parse to XML" doc:id="9ff5e810-f3a7-4231-b37c-2b10dccfd4d1" location="soap\schemas\template\post-portalFija-soap.xml"/>
		<flow-ref doc:name="Go to portal-fija-client" doc:id="0b19cd7b-875e-4f7f-9d20-ac2ca9d7a89e" name="portal-fija-clientSub_Flow" />
		<ee:transform doc:name="XML to JSON" doc:id="b60e28fe-aae2-4606-a3ac-bc59f1ee0e7f" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{
   "ResponseGetAccountCycle": 
   {
	   "operation": read(payload.Envelope.Body.cicloCuentaResponse.return,"application/xml").replies.reply.response.@operation,
	   "result": read(payload.Envelope.Body.cicloCuentaResponse.return,"application/xml").replies.reply.response.@result,
	   "system": read(payload.Envelope.Body.cicloCuentaResponse.return,"application/xml").replies.reply.response.@system,
	   "portalfija_data": read(payload.Envelope.Body.cicloCuentaResponse.return,"application/xml").replies.reply.response.portalfija_data
	}
}]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</sub-flow>
</mule>
