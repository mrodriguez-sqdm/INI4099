#%RAML 1.0
title: bot-sapi-services-2
version: v1
baseUri: http://bot-sapi-services-{env}.us-e2.cloudhub.io/bot/{version}
protocols: [HTTP]
mediaType: application/json
description: |
  API para la comunicación con servicios del bot.

traits:
  security_client_id: !include exchange_module/35a39a92-efa9-49b6-8f13-d66508fd2f35/security-clientid/1.0.3/security-clientid.raml
  request_headers: !include exchange_module/35a39a92-efa9-49b6-8f13-d66508fd2f35/tibcorequestheaders/1.0.6/tibcorequestheaders.raml
  encrypted_headers: !include datatypes/request/objects/encrypt.raml

/services:
  /validateimei:
    post:
      is: [security_client_id, request_headers]
      displayName: Validate IMEI
      description: Validate IMEI
      body:
        application/json:
          type: !include /datatypes/request/post-valida-imei.raml
          example: !include /examples/request/post-valida-imei.json
      responses:
        200:
          description: IMEI validated successfully.
          body:
            application/json:
              type: !include /datatypes/response/post-valida-imei.raml
              example: !include /examples/response/post-valida-imei.json

  /suspendvoluntarily:
    post:
      is: [security_client_id, request_headers]
      displayName: Voluntary line suspension
      description: Voluntary line suspension
      body:
        application/json:
          type: !include /datatypes/request/post-suspend-voluntarily.raml
          example: !include /examples/request/post-suspend-voluntarily.json
      responses:
        200:
          description: Voluntary suspension completed successfully.
          body:
            application/json:
              type: !include /datatypes/response/post-suspend-voluntarily.raml
              example: !include /examples/response/post-suspend-voluntarily.json
  /registerdevice:
    post:
      is: [security_client_id, request_headers]
      displayName: Register device and link mobile line
      description: Register device and link mobile line
      body:
        application/json:
          type: !include /datatypes/request/post-register-device.raml
          example: !include /examples/request/post-register-device.json
      responses:
        200:
          description: The device was successfully registered and linked to the ETB mobile line.
          body:
            application/json:
              type: !include /datatypes/response/post-register-device.raml
              example: !include /examples/response/post-register-device.json

  /suspendbytheft:
    post:
      is: [security_client_id, request_headers]
      displayName: Suspend line due to theft
      description: Suspend line due to theft
      body:
        application/json:
          type: !include /datatypes/request/post-suspend-bytheft.raml
          example: !include /examples/request/post-suspend-bytheft.json
      responses:
        200:
          description: Suspension due to theft completed successfully.
          body:
            application/json:
              type: !include /datatypes/response/post-suspend-bytheft.raml
              example: !include /examples/response/post-suspend-bytheft.json
  /suspendbyloss:
    post:
      is: [security_client_id, request_headers]
      displayName: Suspend Mobile Line by Loss
      description: Suspend Mobile Line by Loss
      body:
        application/json:
          type: !include /datatypes/request/post-suspend-byloss.raml
          example: !include /examples/request/post-suspend-byloss.json
      responses:
        200:
          description: The mobile line was successfully suspended due to theft report, and the IMEI was blocked as requested.
          body:
            application/json:
              type: !include /datatypes/response/post-suspend-byloss.raml
              example: !include /examples/response/post-suspend-byloss.json
  /setdeliverytypeinvoice:
    post:
      is: [security_client_id, request_headers]
      displayName: Set Invoice Delivery Type
      description: Set Invoice Delivery Type
      body:
        application/json:
          type: !include /datatypes/request/post-setdelivery-typeinvoice.raml
          example: !include /examples/request/post-setdelivery-typeinvoice.json
      responses:
        200:
          description: The invoice delivery type was successfully updated.
          body:
            application/json:
              type: !include /datatypes/response/post-setdelivery-typeinvoice.raml
              example: !include /examples/response/post-setdelivery-typeinvoice.json
  /getcontract:
    post:
      is: [security_client_id, request_headers]
      displayName: Get Mobile Service Contract
      description: Get Mobile Service Contract
      body:
        application/json:
          type: !include /datatypes/request/post-getcontract.raml
          example: !include /examples/request/post-getcontract.json
      responses:
        200:
          description: The contract associated with the mobile service was successfully retrieved.
          body:
            application/json:
              type: !include /datatypes/response/post-getcontract.raml
              example: !include /examples/response/post-getcontract.json
  /sva:
    post:
      is: [security_client_id, request_headers]
      displayName: Manage Value-Added Services (SVA)
      description: Manage Value-Added Services (SVA)
      body:
        application/json:
          type: !include /datatypes/request/post-sva.raml
          example: !include /examples/request/post-sva.json
      responses:
        200:
          description: The value-added service was successfully managed.
          body:
            application/json:
              type: !include /datatypes/response/post-sva.raml
              example: !include /examples/response/post-sva.json
/soporte1n:
  /setwifinetworkstate:
    post:
      is: [security_client_id, request_headers]
      displayName: Change WiFi network status
      description: Change WiFi network status
      body:
        application/json:
          type: !include /datatypes/request/post-setwifi-networkstate.raml
          example: !include /examples/request/post-setwifi-networkstate.json
      responses:
        200:
          description: WiFi network status changed successfully.
          body:
            application/json:
              type: !include /datatypes/response/post-setwifi-networkstate.raml
              example: !include /examples/response/post-setwifi-networkstate.json
  /validatelb:
    post:
      is: [security_client_id, request_headers]
      displayName: Validate Lb
      description: Validate Lb
      body:
        application/json:
          type: !include /datatypes/request/post-validate-lb.raml
          example: !include /examples/request/post-validate-lb.json
      responses:
        200:
          description: The base line status (number, registration, and state) was successfully validated.
          body:
            application/json:
              type: !include /datatypes/response/post-validate-lb.raml
              example: !include /examples/response/post-validate-lb.json
  /setwifinetworkname:
    post:
      is: [security_client_id, request_headers]
      displayName: Set WiFi Network Name
      description: Set WiFi Network Name
      body:
        application/json:
          type: !include /datatypes/request/post-setwifi-networkname.raml
          example: !include /examples/request/post-setwifi-networkname.json
      responses:
        200:
          description: The WiFi network name (SSID) was successfully updated.
          body:
            application/json:
              type: !include /datatypes/response/post-setwifi-networkname.raml
              example: !include /examples/response/post-setwifi-networkname.json
  /validateaccess:
    post:
      is: [security_client_id, request_headers]
      displayName: Validate Access Status
      description: Validate Access Status
      body:
        application/json:
          type: !include /datatypes/request/post-validate-access.raml
          example: !include /examples/request/post-validate-access.json
      responses:
        200:
          description: The access status, including ONT, power, noise, and attenuation, was successfully validated.
          body:
            application/json:
              type: !include /datatypes/response/post-validate-access.raml
              example: !include /examples/response/post-validate-access.json
  /normalizeaccess:
    post:
      is: [security_client_id, request_headers]
      displayName: Normalize Access
      description: Normalize Access
      body:
        application/json:
          type: !include /datatypes/request/post-normalize-access.raml
          example: !include /examples/request/post-normalize-access.json
      responses:
        200:
          description: The access was successfully normalized, including service validation, configuration, and ONT equipment restart.
          body:
            application/json:
              type: !include /datatypes/response/post-normalize-access.raml
              example: !include /examples/response/post-normalize-access.json
/customers:
  /habeasdata:
    post:
      is: [security_client_id, request_headers]
      displayName: Update habeasdata
      description: Update habeasdata
      body:
        application/json:
          type: !include /datatypes/request/post-update-habeasdata.raml
          example: !include /examples/request/post-update-habeasdata.json
      responses:
        200:
          description: Update of personal data processing decision successful.
          body:
            application/json:
              type: !include /datatypes/response/common-response-header.raml
              example: !include /examples/response/post-update-habeasdata.json

/notifications:
  /sendinfosva:
    post:
      is: [security_client_id, request_headers]
      displayName: Send SVA usage instructions
      description: Send SVA usage instructions
      body:
        application/json:
          type: !include /datatypes/request/post-send-infosva.raml
          example: !include /examples/request/post-send-infosva.json
      responses:
        200:
          description: The SVA usage instructions were successfully sent to the customer’s email address or as an SMS to the specified mobile number.
          body:
            application/json:
              type: !include /datatypes/response/common-response-header.raml
              example: !include /examples/response/post-send-infosva.json
  /sendnotifyprocedure:
    post:
      is: [security_client_id, request_headers]
      displayName: Send SIM replacement notification
      description: Send SIM replacement notification
      body:
        application/json:
          type: !include /datatypes/request/post-send-notifyprocedure.raml
          example: !include /examples/request/post-send-notifyprocedure.json
      responses:
        200:
          description: The SIM replacement notification was successfully sent to the customer’s email address.
          body:
            application/json:
              type: !include /datatypes/response/common-response-header.raml
              example: !include /examples/response/post-send-notifyprocedure.json

/mietb:
  /updatepassword:
    post:
      is: [security_client_id, request_headers]
      displayName: Update MiETB Password
      description: Update MiETB Password
      body:
        application/json:
          type: !include /datatypes/request/post-update-password.raml
          example: !include /examples/request/post-update-password.json
      responses:
        200:
          description: The user’s MiETB password was successfully updated.
          body:
            application/json:
              type: !include /datatypes/response/common-response-header.raml
              example: !include /examples/response/post-update-password.json
/orders:
  /createchangenumber:
    post:
      is: [security_client_id, request_headers]
      displayName: Create Change Number Order
      description: Create Change Number Order
      body:
        application/json:
          type: !include /datatypes/request/post-create-changenumber.raml
          example: !include /examples/request/post-create-changenumber.json
      responses:
        200:
          description: The change number order was successfully created.
          body:
            application/json:
              type: !include /datatypes/response/post-create-changenumber.raml
              example: !include /examples/response/post-create-changenumber.json
/saleorder:
  /store:
    /nipportability:
      post:
        is: [security_client_id, request_headers]
        displayName: Manage NIP Portability
        description: Manage NIP Portability
        body:
          application/json:
            type: !include /datatypes/request/post-nipportability.raml
            example: !include /examples/request/post-nipportability.json
        responses:
          200:
            description: The portability NIP was successfully managed.
            body:
              application/json:
                type: !include /datatypes/response/post-nipportability.raml
                example: !include /examples/response/post-nipportability.json
