<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:api-gateway="http://www.mulesoft.org/schema/mule/api-gateway"
	xmlns:apikit="http://www.mulesoft.org/schema/mule/mule-apikit"
	xmlns:http="http://www.mulesoft.org/schema/mule/http"
	xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="
http://www.mulesoft.org/schema/mule/api-gateway http://www.mulesoft.org/schema/mule/api-gateway/current/mule-api-gateway.xsd 
http://www.mulesoft.org/schema/mule/mule-apikit http://www.mulesoft.org/schema/mule/mule-apikit/current/mule-apikit.xsd 
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd">
	    
	 <http:listener-config name="problem-management-papi-services-httpListenerConfig">
        <http:listener-connection host="0.0.0.0" port="${http.private.port}"/>
    </http:listener-config>
    
    <http:request-config name="HTTP_Request_configuration_bot-sapi" doc:name="HTTP Request configuration" doc:id="f5e5dae7-e3b9-466a-8462-af0c36927054" basePath="${bot-sapi.basepath}" responseTimeout="${configurationTimeout.bot-sapi}">
		<http:request-connection protocol="${bot-sapi.protocol}" host="${bot-sapi.host}" port="${bot-sapi.port}" />
	</http:request-config>
	
	<http:request-config name="HTTP_Request_configuration_smallworld" doc:name="HTTP Request configuration" doc:id="4891d036-93d0-415c-9da0-136853733a5a" basePath="${smallworld-sapi.basepath}" responseTimeout="${configurationTimeout.smallworld-sapi}">
		<http:request-connection protocol="${smallworld-sapi.protocol}" host="${smallworld-sapi.host}" port="${smallworld-sapi.port}" />
	</http:request-config>
    
   <api-gateway:autodiscovery apiId="${autodiscovery}" ignoreBasePath="true" doc:name="API Autodiscovery" doc:id="1bb469df-397b-45c2-920c-5feff1471edd" flowRef="problem-management-papi-services-main" /> 
       <apikit:config name="problem-management-papi-services-config" api="problem-management-papi-services.raml" outboundHeadersMapName="outboundHeaders" httpStatusVarName="httpStatus" />
	<import doc:name="Import" doc:id="1a695f42-f5d8-41b2-8366-f84e73c0eefd" file="error-handler.xml" />
	<import doc:name="Import" doc:id="649799b3-3751-4229-89e2-b93f40dd5ad3" file="etb-common-lib.xml" />
	<import doc:name="Import" doc:id="9180ea19-e498-4000-92ff-4220fb4a8966" file="loggin.xml" />
	<import doc:name="Import" doc:id="d23de313-fb67-4ea2-b54c-15c0e41228c9" file="audits-sapi-client.xml" />
	<configuration-properties doc:name="Configuration properties" doc:id="506a59cb-823b-4a04-874e-1c5c7c0c200e" file="${env}-properties.yaml" />
	<http:request-config name="mongo_db_sapi_config" doc:name="HTTP Request configuration" doc:id="49d53679-3916-4b2e-9f2a-fb5744d4e516" basePath="${mongo-db-sapi.base-path}">
		<http:request-connection protocol="${mongo-db-sapi.protocol}" host="${mongo-db-sapi.host}" port="${mongo-db-sapi.port}" connectionIdleTimeout="300000"/>
	</http:request-config>
</mule>
