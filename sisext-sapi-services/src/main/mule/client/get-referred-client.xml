<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:apikit="http://www.mulesoft.org/schema/mule/mule-apikit" xmlns:apikit-soap="http://www.mulesoft.org/schema/mule/apikit-soap"
	xmlns:xml-module="http://www.mulesoft.org/schema/mule/xml-module"
	xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/xml-module http://www.mulesoft.org/schema/mule/xml-module/current/mule-xml-module.xsd
http://www.mulesoft.org/schema/mule/apikit-soap http://www.mulesoft.org/schema/mule/apikit-soap/current/mule-apikit-soap.xsd
http://www.mulesoft.org/schema/mule/mule-apikit http://www.mulesoft.org/schema/mule/mule-apikit/current/mule-apikit.xsd">
	<sub-flow name="get-referred-clientSub_Flow" doc:id="6cf4394f-a28a-4d23-ac30-6f515a7b7773" >
<parse-template doc:name="Parse Template" doc:id="19130498-0ac4-4ff1-8813-476d83ab0e71" location="soap\schemas\templates\soap-promocionesLogicWS.xml"/>
		<async doc:name="Async" doc:id="8b746e40-e952-4123-ae46-23ed678a6323">
			<flow-ref doc:name="Call logger before" doc:id="a94dd7fb-b6d2-49b4-a77b-46c307032a79" name="audits-mongo-log-before" />
		</async>
		<http:request method="POST" doc:name="Get promLogicServices" doc:id="7b87bef2-5084-45bf-b9d0-43ee6fbeea24" config-ref="HTTP_Request_configuration_promLogicWS" path="${prom-logic-ws.path}">
			<http:headers><![CDATA[#[output application/java
---
{
	"Content-Type" : "application/soap+xml"
}]]]></http:headers>
		</http:request>
		<async doc:name="Async" doc:id="b1ffe790-0208-4f8b-8b1a-9543350d73d3">
				<flow-ref doc:name="Call logger after" doc:id="854c3804-7600-4859-9449-764d612d0a25" name="audits-mongo-log-after" />
			</async>
		<ee:transform doc:name="Set response" doc:id="cc049a09-cfeb-4997-b6bb-4bdfa2b80713" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
PROM_Promociones_ActivoResponse: 
payload.Envelope.Body.PROM_Promociones_ActivoResponse.PROM_Promociones_ActivoResult.WSResponseBody pluck (($))]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</sub-flow>
</mule>
