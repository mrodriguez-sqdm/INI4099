<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns:http="http://www.mulesoft.org/schema/mule/http"
	xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	<sub-flow name="patch-msisdn-status-client" doc:id="2f90d1f0-2252-4f1e-92e0-c18ae605875f" >
		<try doc:name="Try" doc:id="2b4a30ed-35dc-4dbd-b4e9-16c04a1583e1" >
			<http:request method="PATCH" doc:name="Update msisdn status" doc:id="5ca4bf20-73d2-419b-8d07-3859e826073e" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.msisdn.path.patch-msisdn-status}">
			<http:headers><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	"systemId" : vars.systemId,
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
			<http:uri-params ><![CDATA[#[output application/java
---
{
	msisdn : vars.request.msisdn
}]]]></http:uri-params>
				<http:query-params><![CDATA[#[output application/java
---
{
	action : vars.request.action
}]]]></http:query-params>
		</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="dd186b59-192f-4cae-89f4-39c851360d84" >
					<set-variable value="#[p('jsc-sapi.balance-structured.errorMessage')]" doc:name="Set Error Message" doc:id="93368a3c-23cd-4e30-b6fc-66f8a76cef3d" variableName="errorMessageOutput"/>
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="get-balance-structured-client" doc:id="00a87d41-1437-4222-a570-d62ec8287947" >
		<try doc:name="Try" doc:id="a52f0987-bb93-46f2-9f66-ab2276aa69ec" >
			<http:request method="GET" doc:name="Get balance" doc:id="8fe51f06-b04d-4f45-b84f-64f494c4cd2f" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.balance-structured.path}">
			<http:headers><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	"systemId" : vars.systemId,
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
			<http:query-params><![CDATA[#[output application/java
---
{
	"SID" : vars.request.subscription,
	"size" : vars.request.size,
	"status" : vars.request.status
}]]]></http:query-params>
		</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="edc4e014-908c-4671-952c-31cc42a9d012" >
					<set-variable value="#[p('jsc-sapi.balance-structured.errorMessage')]" doc:name="Set Error Message" doc:id="6ca0c710-cb80-42ca-bcf2-cd74e0af5cc3" variableName="errorMessageOutput"/>
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="transferbalance-client" doc:id="cc294f69-02b6-4942-9ba7-2658b56c22cb" >
		<try doc:name="Try" doc:id="b587c646-148f-4bb0-8933-72b24e180771" >
			<http:request method="POST" doc:name="Transfer balance" doc:id="96fde76c-530d-46f0-8e01-c12d014a0393" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.transferbalance.path}">
			<http:body ><![CDATA[#[vars.request]]]></http:body>
				<http:headers><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	"systemId" : vars.systemId,
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
			<http:query-params><![CDATA[#[output application/java
---
{
	subscription : vars.sidOrigin
}]]]></http:query-params>
		</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="3c463bee-4f5c-4228-a37d-58eba1e655c7" >
					<set-variable value="#[p('jsc-sapi.transferbalance.errorMessage')]" doc:name="Set Error Message" doc:id="07b64aaa-305b-4e33-a782-27b575b0fbf0" variableName="errorMessageOutput"/>
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="get-subscriber-client" doc:id="749ecf72-4744-48c9-b379-6795a7a36163" >
		<try doc:name="Try" doc:id="34123b19-13ea-4e92-80d3-011b5b940d4c" >
			<http:request method="GET" doc:name="Get subscriber" doc:id="8c639299-8051-4cfb-8083-ff138d2090de" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.subscriber.path}" target="subscriberObject">
			<http:headers><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	"systemId" : vars.systemId,
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
			<http:query-params><![CDATA[#[output application/java
---
{
	"externalID" : vars.inputPayload.documentType ++ vars.inputPayload.documentNumber
}]]]></http:query-params>
		</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="721460eb-2ca9-47b0-be81-0daa4f79b7fb" >
					<set-variable value="#[p('jsc-sapi.subscriber.errorMessage')]" doc:name="Set Error Message" doc:id="a949b8ff-e019-47d2-b817-2621e8bb597b" variableName="errorMessageOutput"/>
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="post-subscriber-client" doc:id="d01a7798-148b-444b-92d0-fb97c301dcad" >
		<http:request method="POST" doc:name="Post subscriber" doc:id="546c029c-b8f4-4264-a3db-dc47ded512c4" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.subscriber.path}" target="subscriberObject">
			<http:headers ><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	"systemId" : vars.systemId,
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
		</http:request>
	</sub-flow>
	<sub-flow name="post-order-client" doc:id="1d8cf078-b042-416b-859e-be673e898ed6" >
		<try doc:name="Try" doc:id="2e60b68b-f219-456c-8b2e-6cee823c3fc3" >
			<http:request method="POST" doc:name="Post order" doc:id="089db6f5-e7ae-4b06-8af1-f52f93dfecb3" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.order.path}" target="orderObject">
			<http:headers><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	("systemId" : vars.systemId) if (vars.systemId != null),
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
		</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="76d5a581-aed1-41cc-8cb7-b37bb52f107a" >
					<set-variable value="#[p('jsc-sapi.order.errorMessage')]" doc:name="Set Error Message" doc:id="c8a232bb-e91c-4c69-aeb7-458735f4b5d6" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	
</sub-flow>
	<sub-flow name="patch-msisdn-client" doc:id="69fe0341-0554-438b-aff9-1cf4f7f96dfb" >
		<try doc:name="Try" doc:id="c0fc650d-48a4-4805-9df6-5bcb23312fc6" >
			<http:request method="PATCH" doc:name="Update msisdn" doc:id="8469d6d0-7b74-4f06-a682-513b3824ea2a" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.msisdn.path.post-activateLine}">
			<http:headers><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	"systemId" : vars.systemId,
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
			<http:uri-params><![CDATA[#[output application/java
---
{
	"order_id" : vars.orderObject.id,
	"msisdn" : vars.inputPayload.MSISDN
}]]]></http:uri-params>
		
</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="3d4add69-89ff-48df-b8e2-6adea268ac39" >
					<set-variable value="#[p('jsc-sapi.msisdn.errorMessage')]" doc:name="Set Error Message" doc:id="ae067fd8-66fe-46d1-a871-4359a4ac30a3" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	
</sub-flow>
<sub-flow name="post-msisdn-client" doc:id="7223bac6-83b5-4956-84c3-8f08b42ec09b" >
		<try doc:name="Try" doc:id="182f1548-2f4c-4aa0-887a-0fd04b9cebde" >
			<http:request method="POST" doc:name="Post msisdn" doc:id="f1a7d517-9554-41c8-8e84-fa283a7bd99b" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.msisdn.path.post-msisdn}">
			<http:headers><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	"systemId" : vars.systemId,
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
		
</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="30905aee-89cb-4a72-9111-eb8c1120f595" >
					<set-variable value="#[p('jsc-sapi.msisdn.errorMessage')]" doc:name="Set Error Message" doc:id="3acda825-464f-4b11-95c7-c49f0df274cf" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	
</sub-flow>
	<sub-flow name="patch-simCard-client" doc:id="5fea7490-30e4-4581-ad74-16e58297a32c" >
		<try doc:name="Try" doc:id="b58b9856-71a9-4224-8954-45f1efc644ee" >
			<http:request method="PATCH" doc:name="Update simCard" doc:id="5147f442-0a7c-4707-8004-86ed8131c973" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.simcard.path.post-activateLine}">
			<http:headers><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	("systemId" : vars.systemId) if (vars.systemId != null),
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
			<http:uri-params><![CDATA[#[output application/java
---
{
	"iccid" : vars.ICCID,
	"order_id" : vars.orderObject.id
}]]]></http:uri-params>
		
</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="1b938587-3b01-48d2-a167-809af5de924f" >
					<set-variable value="#[p('jsc-sapi.simcard.errorMessage')]" doc:name="Set Error Message" doc:id="61e4d586-0c52-4fff-82c7-84f81e51fc67" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	
</sub-flow>
	<sub-flow name="patch-endOrder-client" doc:id="a03409f3-03e6-4138-8325-efa16f10f07f" >
		<try doc:name="Try" doc:id="667f8639-5888-4d88-aac7-2200d1a59c13" >
			<http:request method="PATCH" doc:name="End order" doc:id="de69c118-3d0c-4e07-8c64-4c8eb28ac386" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.order.endOrder.path}">
			<http:headers><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	("systemId" : vars.systemId) if (vars.systemId != null),
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
			<http:uri-params><![CDATA[#[output application/java
---
{
	"id" : vars.orderObject.id
}]]]></http:uri-params>
			<http:query-params><![CDATA[#[output application/java
---
{
	"action" : p('jsc-sapi.order.endOrder.action')
}]]]></http:query-params>
		

</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="b842a3af-fb85-4bb3-843e-2b52ea232a06" >
					<set-variable value="#[p('jsc-sapi.order.endOrder.errorMessage')]" doc:name="Set Error Message" doc:id="ebddf09e-02a5-499d-8334-a28806ba84eb" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	
</sub-flow>
	<sub-flow name="patch-billingSubscription-client" doc:id="886d20f5-b42c-4849-b08c-e32a569f7d47" >
		<try doc:name="Try" doc:id="c6285c6a-77d2-4004-adfd-a241ccacee84" >
			<http:request method="PATCH" doc:name="Billing Subscription" doc:id="8ffdf555-c0f0-453f-a23a-74cd62c58d3c" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.createBillingAccount.subscription.path}">
			<http:headers><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	"systemId" : vars.systemId,
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
			<http:uri-params><![CDATA[#[output application/java
---
{
	"subscription_id" : vars.orderObject.subscription.id
}]]]></http:uri-params>
			<http:query-params><![CDATA[#[output application/java
---
{
	("action" : vars.subscriptionAction) if (!isEmpty(vars.subscriptionAction)) 
}]]]></http:query-params>
		

</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="73a6e136-0e5f-4947-875c-f1137319758f" >
					<set-variable value="#[p('jsc-sapi.createBillingAccount.subscription.errorMessage')]" doc:name="Set Error Message" doc:id="88aad282-7f69-45f7-8b34-bc658c18f69f" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	
</sub-flow>
	<sub-flow name="post-billingBA-client" doc:id="630e399a-5e4f-45fe-99e6-dce4217a769d" >
		<try doc:name="Try" doc:id="f55b4707-fcdd-4057-9fea-1ae2e102edf5" >
			<http:request method="POST" doc:name="Billing BA" doc:id="c9bbca8e-5c45-40e3-b14e-3a959bb0821d" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.createBillingAccount.ba.path}" target="billingAccountObject">
			<http:headers><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	"systemId" : vars.systemId,
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
		</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="bb22602b-d663-4fc5-9520-271dfbd33d54" >
					<set-variable value="#[p('jsc-sapi.createBillingAccount.ba.errorMessage')]" doc:name="Set Error Message" doc:id="e6a20e5f-96ce-48f1-83f6-4b13042d7b26" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	
</sub-flow>
	<sub-flow name="get-disponibilidad-msisdn-client" doc:id="2364ddf7-a0bd-4b03-b07e-e4927c86d599" >
		<try doc:name="Try" doc:id="aea71724-2cb0-4c24-801b-65677096e73a" >
			<http:request method="GET" doc:name="Get MSISDN" doc:id="c565587e-7cb3-41c0-9423-1724eb105a39" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.msisdn.path.get-disponibilidad}">
			<http:headers><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id')
}]]]></http:headers>
			<http:uri-params><![CDATA[#[output application/java
---
{
	"msisdn" : vars.msisdn
}]]]></http:uri-params>
		</http:request>
			<error-handler >
				<on-error-continue enableNotifications="true" logException="true" doc:name="On Error Continue" doc:id="a060b329-8352-4886-86ee-859bc43b11c2" >
					<logger level="INFO" doc:name="Logger" doc:id="976dd75d-077d-484a-becc-76b42eb83515" message="#[output application/json&#10;---&#10;payload]"/>
				</on-error-continue>
			</error-handler>
		</try>
	</sub-flow>
<sub-flow name="get-disponibilidad-simcard-client" doc:id="0985c8d9-b13a-44b8-8c2e-0d188a9962bb" >
		<try doc:name="Try" doc:id="313debd3-07c4-40df-b965-cffbd8170a90" >
			<http:request method="GET" doc:name="Get SIMCARD" doc:id="69ee40b2-c40f-450d-a174-4586b4113e12" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.simcard.path.get-disponibilidad}">
			<http:headers><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id')
}]]]></http:headers>
			<http:uri-params><![CDATA[#[output application/java
---
{
	"iccid" : vars.sim
}]]]></http:uri-params>
		</http:request>
			<error-handler >
				<on-error-continue enableNotifications="true" logException="true" doc:name="On Error Continue" doc:id="4db8ecc8-12bb-4779-8129-45fd7c4f5bd6" >
					<ee:transform doc:name="Set error" doc:id="4b4f69d5-a736-4726-9a9f-95c5caa2665a" >
						<ee:message >
							<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
read(error.muleMessage.typedValue.message.message, 'application/json')
]]></ee:set-payload>
						</ee:message>
					</ee:transform>
					<logger level="INFO" doc:name="Logger" doc:id="5c966d0d-773b-4efe-b69c-de98d992f35a" message="#[output application/json&#10;---&#10;payload]"/>
				</on-error-continue>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="post-rechargeLine-client" doc:id="f1b577a8-0b41-4d2d-b44e-94e5bd2a4213" >
		<try doc:name="Try" doc:id="ae2b1ba9-29b6-4801-b54d-7dfa073fa084" >
			<http:request method="POST" doc:name="Recharge Line Balance" doc:id="a1a34ee3-5f28-42d0-b7f8-ac1d78f4285f" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.recharge.path}" target="billingAccountObject">
				<http:headers><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id')
}]]]></http:headers>
			</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="49024ecc-1688-4ad6-ae34-7fb20fded2c4" >
					<set-variable value="#[p('jsc-sapi.recharge.errorMessage')]" doc:name="Set Error Message" doc:id="4c9edc07-9488-431d-99b5-495e21b8f9a1" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="patch-SubscriptionMVNE-client" doc:id="229e0b9f-05a6-41de-be3f-35b6ac7d88c0" >
		<try doc:name="Try" doc:id="963d3d64-5b49-4322-af67-0aea5db9dd24" >
			<http:request method="PATCH" doc:name="Billing Subscription" doc:id="95844e69-daf0-4c55-a425-d48ad6b19090" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.createBillingAccount.subscription.path}" >
				<http:headers ><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	("systemId" : vars.systemId) if (vars.systemId != null),
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
				<http:uri-params ><![CDATA[#[output application/java
---
{
	"subscription_id" : vars.subscription_id
}]]]></http:uri-params>
				<http:query-params ><![CDATA[#[output application/java
---
{
	"action": p('subscriberCancel.action')
}]]]></http:query-params>
			</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="b368205b-4a32-4f0b-a6b4-2269d0a8c095" >
					<set-variable value="#[p('jsc-sapi.createBillingAccount.subscription.errorMessage2')]" doc:name="Set Error Message" doc:id="a8a31638-f7ac-4b1f-b76d-833d190b1e49" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="get-subscription-client" doc:id="9e37b2f6-76bc-4250-8cea-ee6787cb8439" >
		<try doc:name="Try" doc:id="8119835c-4ef7-46e1-bb2c-c8f240715525" >
			<http:request method="GET" doc:name="Get subscription" doc:id="2a6f3410-1023-471f-a692-c18b2850a358" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.subscription.path}">
				<http:headers ><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	("systemId" : vars.systemId) if (vars.systemId != null),
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
				<http:query-params ><![CDATA[#[output application/java
---
{
	"externalID" : vars.connectionNumber
}]]]></http:query-params>
			</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="1f7544f6-13cf-49fc-a470-c3e9b76dc941" >
					<set-variable value="#[p('jsc-sapi.subscription.errorMessage')]" doc:name="Set Error Message" doc:id="47eb8c79-7a04-4141-b3da-497de2936da7" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="get-subscription-client-by-msisdn" doc:id="5c260a34-673f-4584-9290-2b7fcdd91909" >
		<try doc:name="Try" doc:id="4312ad2c-5112-4b1a-8870-78163d3985b0" >
			<http:request method="GET" doc:name="Get subscription" doc:id="752d6435-3ba7-4efb-b8b4-35948e6b727f" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.subscription.path}" >
				<http:headers ><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	("systemId" : vars.systemId) if (vars.systemId != null),
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
				<http:query-params ><![CDATA[#[output application/java
---
{
	"msisdn" : vars.connectionNumber
}]]]></http:query-params>
			</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="e52f5758-c93a-4ef7-bbfb-bde5b504bd0f" >
					<set-variable value="#[p('jsc-sapi.subscription.errorMessage')]" doc:name="Set Error Message" doc:id="7f8e3562-15fc-4568-b10c-91b3d1af42ba" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="get-billingBA-client" doc:id="eee6beca-44ad-46a7-a715-926ff91474aa" >
		<try doc:name="Try" doc:id="4671ae90-a7a9-45cd-934f-3d895646874f" >
			<http:request method="GET" doc:name="Billing BA" doc:id="49717ea5-d7ca-4cdb-bc1a-43977a99b018" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.createBillingAccount.ba.path}" target="billingAccountInfo" >
				<http:headers ><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	"systemId" : vars.systemId,
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
				<http:query-params ><![CDATA[#[output application/java
---
{
	"externalID" : vars.inputPayload.billingAccountNumber
}]]]></http:query-params>
			</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="b393b3c3-d4ca-4ccd-8060-38ea54668109" >
					<set-variable value="#[p('jsc-sapi.createBillingAccount.ba.errorMessage2')]" doc:name="Set Error Message" doc:id="105160b1-535a-4acd-89c8-f7a4e458c78c" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="get-pkgi-client" doc:id="8415a7eb-4915-41fa-9227-4190a54d4d5b" >
		<try doc:name="Try" doc:id="8e1d968d-e53d-48cd-93d2-a9726bf779b3" >
			<http:request method="GET" doc:name="Get PKGI" doc:id="f72c92e9-c7e9-4dda-a425-db729da10a86" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.pkgi.path}">
				<http:headers><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	"systemId" : vars.systemId,
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
				<http:uri-params><![CDATA[#[output application/java
---
{
	"pkgi_id" : vars.parentPkgInstanceId
}]]]></http:uri-params>
			</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="ed3842f4-fdc1-41b0-819c-51f32db6179c" >
					<set-variable value="#[p('jsc-sapi.pkgi.errorMessage-get')]" doc:name="Set Error Message" doc:id="ca8b7040-ee1b-4f1a-9a90-e41e120d8629" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="get-subcriptionBySID-client" doc:id="be6d2556-5554-40c9-9ceb-d58c5178fc08" >
		<try doc:name="Try" doc:id="8e6479c3-d2ff-4bad-ab49-82f8e6fc6b4c" >
			<http:request method="GET" doc:name="Get subscription by SID" doc:id="79529845-e3a8-4feb-8a39-d9493b15e9c3" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.subscription.getBySID}">
			<http:headers><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	"systemId" : vars.systemId,
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
			<http:uri-params><![CDATA[#[output application/java
---
{
	"SID" : vars.pkgSID
}]]]></http:uri-params>
		</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="fd4980f7-3f3a-4852-8e6f-87a26f13ec28" >
					<set-variable value="#[p('jsc-sapi.subscription.errorMessage')]" doc:name="Set Error Message" doc:id="e410da8b-b671-4a3d-b660-892e6d52a04b" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="post-groupinstance-client" doc:id="64e92a22-2526-4972-849e-5ddcb8da7966" >
		<try doc:name="Try" doc:id="619f2cf1-cef4-4cfa-aec3-278116f355ac" >
			<http:request method="POST" doc:name="Link to group" doc:id="ebfe17a1-1c18-4097-962f-9fda307d53b9" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.groupInstance.path}">
			<http:headers><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	"systemId" : vars.systemId,
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
			<http:uri-params><![CDATA[#[output application/java
---
{
	"groupInstanceId" : vars.groupInstanceId
}]]]></http:uri-params>
		</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="18e3b004-bf69-42bd-ae41-08e0f6b421c5" >
					<set-variable value="#[p('jsc-sapi.groupInstance.errorMessage-post')]" doc:name="Set Error Message" doc:id="0b2d7e11-9051-493a-b260-36569f3a7f84" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="get-pkgibySID-client" doc:id="37a66314-c0e7-4ad1-b410-a3ef9003c0a1" >
		<try doc:name="Try" doc:id="22cbefe0-c772-4b85-a100-39921f2334ac" >
			<http:request method="GET" doc:name="Get PKGI by SID" doc:id="74f4f955-51e4-495d-ab84-bfb840a4fafe" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.pkgi.getbySID}">
			<http:headers><![CDATA[#[output application/java
---
{
	"correlationId" : correlationId,
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id')
}]]]></http:headers>
			<http:query-params><![CDATA[#[output application/java
---
{
	"SID" : vars.subscriptionId
}]]]></http:query-params>
		</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="700bde83-c2d5-4a55-a641-f1ab45d16f7b" >
					<set-variable value="#[p('jsc-sapi.pkgi.errorMessage-get')]" doc:name="Set Error Message" doc:id="ccc51463-0907-41af-a7e8-b03ab43be797" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="patch-pkgi" doc:id="0af83ea0-f0d3-4bcc-87d0-afbf6f71ecd8" >
		<try doc:name="Try" doc:id="ecda87f0-e2c6-4920-9ee0-e5ff0965a06c" >
			<http:request method="PATCH" doc:name="Patch pkgi by pkgID" doc:id="021ec9cd-1eff-4da8-b7b9-b0e5df9b3f0f" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.pkgi.patch-pkgi}">
			<http:headers><![CDATA[#[output application/java
---
{
	"correlationId" : correlationId,
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id')
}]]]></http:headers>
			<http:uri-params><![CDATA[#[output application/java
---
{
	"pkgi_id" :  vars.idInstanceJSC
}]]]></http:uri-params>
		</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="6e69f7ab-9d5a-4cb1-8c45-d148ae07b229" >
					<set-variable value="#[p('jsc-sapi.pkgi.errorMessage-patch')]" doc:name="Set Error Message" doc:id="8ce23df8-a825-4e16-8e32-a4aacbdfdc88" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="get-consumption-client" doc:id="1c93858c-ae68-42c6-8280-20803e024cdc" >
		<try doc:name="Try" doc:id="a85be1d4-94c6-44e8-94d3-25d48c4ab083" >
			<http:request method="GET" doc:name="Get consumption" doc:id="134cbdc2-d965-4a30-b447-d73c3e03faf6" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.consumption.path}" target="subscriberObject" >
				<http:headers ><![CDATA[#[output application/java
---
{
	"X-CORRELATION-ID" : correlationId,
	"client_secret" : p('jsc-sapi.client_secret'),
	"client_id" : p('jsc-sapi.client_id')
}]]]></http:headers>
				<http:uri-params ><![CDATA[#[output application/java
---
{
	id : vars.id
}]]]></http:uri-params>
			</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="873c39a5-658a-4ebd-b0cb-7103dba98e86" >
					<set-variable value="#[p('jsc-sapi.consumption.errorMessage')]" doc:name="Set Error Message" doc:id="b569a8c4-97a0-49c9-a30f-408c8f5d90f1" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="get-subscription-by-msisdn" doc:id="441ecafd-18e4-4f73-89da-5a31d40142cc" >
		<try doc:name="Try" doc:id="cd684113-fe66-4e6b-88d1-18ab378d2e83" >
			<http:request method="GET" doc:name="Get subscription" doc:id="3e255e92-7e96-4da6-bc0a-1b2385a56081" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.subscription.path}" >
				<http:headers ><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id')
}]]]></http:headers>
				<http:query-params ><![CDATA[#[output application/java
---
{
	msisdn : vars.id
}]]]></http:query-params>
			</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="1e4e00e0-e1d8-4f08-9bfe-3a23564b590c" >
					<set-variable value="#[p('jsc-sapi.subscription.errorMessage')]" doc:name="Set Error Message" doc:id="099e4fd4-52d1-476b-a922-0c9164584a9b" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="terminate-subscription-client" doc:id="db3cba17-2725-4731-9542-3e3489ff3ed7" >
		<try doc:name="Try" doc:id="c5b2a6fc-e8cf-4120-97cc-60f3f02f3a72" >
			<http:request method="PATCH" doc:name="Terminate Subscription" doc:id="a634bb0d-3e05-4487-9e63-b4b5f6f657cd" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.createBillingAccount.subscription.path}" >
				<http:headers ><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	("systemId" : vars.systemId) if (vars.systemId != null),
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
				<http:uri-params ><![CDATA[#[output application/java
---
{
	"subscription_id" : vars.subscription_id
}]]]></http:uri-params>
				<http:query-params ><![CDATA[#[output application/java
---
{
	"action": p('subscriberCancel.actionTerminate')
}]]]></http:query-params>
			</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="1b0982a1-b33d-42df-acfd-9d505818ee9e" >
					<set-variable value="#[p('jsc-sapi.createBillingAccount.subscription.errorMessage3')]" doc:name="Set Error Message" doc:id="47fa9d42-e4be-4ba5-879c-a774c41e103d" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="patch-pkg-withStatus" doc:id="595adc8b-7dd0-4d62-b076-43e6d7dafe6a" >
		<try doc:name="Try" doc:id="7b8db8ad-49b9-43ba-91fa-b77d78de1bee" >
			<http:request method="PATCH" doc:name="Patch pkgi by pkgID with status" doc:id="2ac3a473-59c4-4a2d-8a52-702858a2f0ea" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.pkgi.patch-pkgi}" >
				<http:headers ><![CDATA[#[output application/java
---
{
	"correlationId" : correlationId,
	"client_secret" : p('jsc-sapi.client_secret'),
	"logs" : vars.logs,
	
	"client_id" : p('jsc-sapi.client_id'),
	"systemId" : vars.systemId,
	"processName": vars.processname
}]]]></http:headers>
				<http:uri-params ><![CDATA[#[output application/java
---
{
	"pkgi_id" : vars.pkg_id
}]]]></http:uri-params>
				<http:query-params ><![CDATA[#[output application/java
---
{
	"action" : p("variable.terminate")
}]]]></http:query-params>
			</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="f7938fec-25c6-4ffc-a92e-281ff8c48b25" >
					<set-variable value="#[p('jsc-sapi.pkgi.errorMessage-patch')]" doc:name="Set Error Message" doc:id="74a3f306-f553-4efa-9af7-3903bb3c589e" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="get-pkgibySID-withStatus-client" doc:id="00d75f43-9432-48e3-9e36-7feadcb9f7a7" >
		<try doc:name="Try" doc:id="91aa7947-1501-4999-9d65-a6493788cede" >
			<http:request method="GET" doc:name="Get PKGI by SID with status" doc:id="4477dc37-0845-4265-9e05-9ca880c06187" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.pkgi.getbySID}" >
				<http:headers ><![CDATA[#[output application/java
---
{
	"correlationId" : correlationId,
	"client_secret" : p('jsc-sapi.client_secret'),
	"logs" : vars.logs,
	
	"client_id" : p('jsc-sapi.client_id'),
	"systemId" : vars.systemId,
	"processName": vars.processname
}]]]></http:headers>
				<http:query-params ><![CDATA[#[output application/java
---
{
	"SID" : vars.subscriptionId,
	"status" : p('variable.active')
}]]]></http:query-params>
			</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="7ed53b4d-eba2-47d3-b380-326989e784cd" >
					<set-variable value="#[p('jsc-sapi.pkgi.errorMessage-get')]" doc:name="Set Error Message" doc:id="0dd78086-8f78-4e07-8f98-0b01abe21a39" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="get-groupInstanceMember-client" doc:id="835183ae-3fab-454c-ac02-5a8deda3c1f7" >
		<try doc:name="Try" doc:id="6b29b730-cdf1-402b-a030-f4b43861dcf4" >
			<http:request method="GET" doc:name="Consultar member del group" doc:id="a5fc77f1-9915-4515-9cfe-7c2d24c43606" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.groupInstance.getById}" >
				<http:headers ><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	"logs" : vars.logs,
	"systemId" : vars.systemId,
	
	"client_id" : p('jsc-sapi.client_id')
}]]]></http:headers>
				<http:query-params ><![CDATA[#[output application/java
---
{
	"groupInstanceEq": vars.groupInstanceId,
	"subscriptionEq" : vars.subscriptionId
}]]]></http:query-params>
			</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="1f4a28ae-a148-4aa1-98b7-210bae266570" >
					<set-variable value="#[p('jsc-sapi.groupInstance.errorMessage-get')]" doc:name="Set Error Message" doc:id="92eaac52-09fd-4688-8e16-25aaf3822ec2" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="delete-groupInstanceMember-client" doc:id="9722687d-25df-457d-88a6-c1c04923f2eb" >
		<try doc:name="Try" doc:id="cc3256f1-ad22-43ab-93c3-69f2c2a10481" >
			<http:request method="DELETE" doc:name="Eliminar linea hija del grupo" doc:id="dc5f187a-c8c1-4986-a11d-b7bf7ea37c12" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.groupInstance.deleteById}" >
				<http:headers ><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	"logs" : vars.logs,
	"systemId" : vars.systemId,
	
	"client_id" : p('jsc-sapi.client_id')
}]]]></http:headers>
				<http:uri-params ><![CDATA[#[output application/java
---
{
	"memberId" : vars.memberId,
	"groupInstanceId" : vars.groupInstanceId
}]]]></http:uri-params>
			</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="f58058be-7e63-473c-a281-4f9b24bece8d" >
					<set-variable value="#[p('jsc-sapi.groupInstance.errorMessage-delete')]" doc:name="Set Error Message" doc:id="f6189c79-1a05-4192-8638-363f99b4473c" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="post-assignSubscriptionToSubscriber-client" doc:id="cadadbe1-e648-41e6-babd-7d7d25309b5b" >
		<try doc:name="Try" doc:id="04c0eee5-1ea2-4e87-980a-d1d69771e609" >
			<http:request method="POST" doc:name="Assign subscription to subscriber" doc:id="27c40678-1261-4a52-ab2d-d5acc1063f45" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.assignSubscriptionToSubscriber.path}" target="assignSubscriptionToSubscriberResp" >
				<http:headers ><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	"systemId" : vars.systemId,
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
				<http:uri-params ><![CDATA[#[output application/java
---
{
	"subscription_id" : vars.subscriptionResp.content[0].id,
	"subscriber_id" : if(vars.subscriberObject.content[0].id == null) vars.postSubscriberResp.externalID else vars.subscriberObject.content[0].id
}]]]></http:uri-params>
			</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="1b78c1b4-b2e2-4b2c-b87e-516d142c0675" >
					<set-variable value="#[p('jsc-sapi.createBillingAccount.ba.errorMessage2')]" doc:name="Set Error Message" doc:id="fe951f03-d345-4b71-914a-0e17d815c6e6" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="get-subscription-id-features" doc:id="48c6e482-ef4a-4b06-9fbd-d3fff60949b4" >
		<try doc:name="Try" doc:id="ab9350d2-aadf-4636-a9c4-a4f06436e8a4" >
			<http:request method="GET" doc:name="Get Subscription Id Features" doc:id="acba1864-3127-474e-8186-a27c4a5305fc" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.subscription-id-feature.path}" >
				<http:headers ><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	"systemId" : vars.systemId,
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
				<http:uri-params ><![CDATA[#[output application/java
---
{
	subscription_id : vars.subscription_id
}]]]></http:uri-params>
			</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="a75d9c00-6e3a-4a3c-bb8e-349f7516d528" >
					<set-variable value="#[p('jsc-sapi.subscription-id-feature.errorMessage-get')]" doc:name="Set Error Message" doc:id="a7e5d740-7694-42d8-9b99-92a1bb0d8dd3" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="patch-subscription-id-features" doc:id="93f8ec8a-1930-406e-996f-74a2669cd4bc" >
		<try doc:name="Try" doc:id="ff623480-ec26-4126-9dee-6723a1a134ec" >
			<http:request method="PATCH" doc:name="Patch Subscription Id Features" doc:id="e4a2cc0a-18a9-4325-8487-be3f4b51bd50" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.subscription-id-feature.path}" >
				<http:headers ><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id'),
	"correlationId" : correlationId,
	"systemId" : vars.systemId,
	"processName": vars.processname,
	"logs": vars.logs
}]]]></http:headers>
				<http:uri-params ><![CDATA[#[output application/java
---
{
	subscription_id : vars.subscription_id
}]]]></http:uri-params>
			</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="e2d639e1-93ae-4882-98f0-315dd6d040e3" >
					<set-variable value="#[p('jsc-sapi.subscription-id-feature.errorMessage-patch')]" doc:name="Set Error Message" doc:id="238e8212-d16b-47b2-bd29-cd63ca64d576" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
	<sub-flow name="get-subscription-msisdn-imei" doc:id="9179e827-c539-40c7-ab6d-146b9a4a8600" >
		<try doc:name="Try" doc:id="18f86e4d-686c-45a0-8207-2946ad2f87a6" >
			<http:request method="GET" doc:name="Get IMEI by msisdn" doc:id="afa24585-87c1-40a4-8816-da2278c2a8df" config-ref="HTTP_Request_configuration_jsc" path="${jsc-sapi.subscription.path}${jsc-sapi.subscription.msisdn}" >
				<http:headers ><![CDATA[#[output application/java
---
{
	"client_secret" : p('jsc-sapi.client_secret'),
	
	"client_id" : p('jsc-sapi.client_id')
}]]]></http:headers>
				<http:uri-params ><![CDATA[#[output application/java
---
{
	msisdn : vars.parameters.RESOURCE_ID
}]]]></http:uri-params>
			</http:request>
			<error-handler >
				<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="37dba27b-eacb-4b81-94b4-506612d59baf" >
					<set-variable value="#[p('jsc-sapi.subscription-id-feature.errorMessage-get')]" doc:name="Set Error Message" doc:id="f1026d01-0ba7-4407-993d-3267725b1966" variableName="errorMessageOutput" />
				</on-error-propagate>
			</error-handler>
		</try>
	</sub-flow>
</mule>
