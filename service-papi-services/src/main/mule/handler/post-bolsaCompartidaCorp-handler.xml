<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd">
	<sub-flow name="post-bolsaCompartidaCorp-handlerSub_Flow" doc:id="1bb9e20c-6552-43ed-a456-bb3713096137" >
		<set-variable value="#[attributes.queryParams.integrationId]" doc:name="integration Id" doc:id="e535f35c-e410-4c85-ad40-846d4af28b0b" variableName="integrationId"/>
		<set-variable value="#[attributes.queryParams.parentPkgInstanceId]" doc:name="parent MSISDN" doc:id="c7fddbfb-e321-41d1-a3b9-653c544d0085" variableName="parentMSISDN"/>
		<set-variable value="#[attributes.queryParams.MSISDN]" doc:name="MSISDN" doc:id="94af4005-2751-4b3a-96b4-954f4216e2cf" variableName="MSISDN" />
		<choice doc:name="Choice" doc:id="e9092ebb-55f9-4957-a2b2-fa0900715b5b">
			<when expression='#[upper(attributes.headers.origenTransaccion) == upper("salesforce-xapi-services")]'>
				<set-variable value='#["oracle"]' doc:name="Set logs" doc:id="4e5429af-1fd5-4516-93c2-f71f526352b6" variableName="logs" />
				<set-variable value='#["TRANSACCCIONES_OM"]' doc:name="systemId" doc:id="b7907aff-dfc4-489f-aab4-2006d2528d78" variableName="systemId" />
			</when>
		</choice>
		<flow-ref doc:name="Go to Orchestrator" doc:id="1b03ec47-4c1c-4c39-8bb5-d3210f38d4da" name="post-bolsaCompartidaCorp-orchestratorSub_Flow"/>
	</sub-flow>
</mule>
