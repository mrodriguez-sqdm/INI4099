<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:api-gateway="http://www.mulesoft.org/schema/mule/api-gateway"
	xmlns:apikit="http://www.mulesoft.org/schema/mule/mule-apikit"
	xmlns:http="http://www.mulesoft.org/schema/mule/http"
	xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="
http://www.mulesoft.org/schema/mule/api-gateway http://www.mulesoft.org/schema/mule/api-gateway/current/mule-api-gateway.xsd 
http://www.mulesoft.org/schema/mule/mule-apikit http://www.mulesoft.org/schema/mule/mule-apikit/current/mule-apikit.xsd 
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd">
    <http:listener-config name="service-papi-services-httpListenerConfig">
        <http:listener-connection host="0.0.0.0" port="${http.private.port}" readTimeout="${configurationTimeout.service-papi-listener}"/>
    </http:listener-config>
    <apikit:config name="service-papi-services-config" api="service-papi-services.raml" outboundHeadersMapName="outboundHeaders" httpStatusVarName="httpStatus" />
	<api-gateway:autodiscovery apiId="${autodiscovery}" ignoreBasePath="true" doc:name="API Autodiscovery" doc:id="720856fb-ddf6-4e13-8db2-9281293e2d33" flowRef="service-papi-services-main" />
	<configuration-properties doc:name="Configuration properties" doc:id="05b438c2-555a-470c-a1fd-fd962653df19" file="${env}-properties.yaml" />
	<http:request-config name="HTTP_Request_configuration_jsc" doc:name="HTTP Request configuration" doc:id="cc247256-01e6-4b74-ac25-f262aa68a247" basePath="${jsc-sapi.basePath}" responseTimeout="${configurationTimeout.jsc-sapi.responseTimeout}" >
		<http:request-connection protocol="${jsc-sapi.protocol}" host="${jsc-sapi.host}" port="${jsc-sapi.port}" connectionIdleTimeout="${configurationTimeout.jsc-sapi.connectionIdleTimeout}"/>
	</http:request-config>
	<http:request-config name="HTTP_Request_configuration_bot-sapi-2" doc:name="HTTP Request configuration 2" doc:id="128c62f9-24ed-46d9-be09-3c1071a8bdaf" basePath="${bot-sapi-2.basepath}" responseTimeout="${configurationTimeout.bot-sapi-2.responseTimeout}">
		<http:request-connection protocol="${bot-sapi-2.protocol}" host="${bot-sapi-2.host}" port="${bot-sapi-2.port}" connectionIdleTimeout="${configurationTimeout.bot-sapi-2.connectionIdleTimeout}"/>
	</http:request-config>
	<http:request-config name="HTTP_Request_configuration_mongo" doc:name="HTTP Request configuration" doc:id="27a1f881-d7ba-4948-8248-0f5c94761405" basePath="${mongo-sapi.basePath}" responseTimeout="${configurationTimeout.mongo-db-sapi.responseTimeout}" >
		<http:request-connection protocol="${mongo-sapi.protocol}" host="${mongo-sapi.host}" port="${mongo-sapi.port}" connectionIdleTimeout="${configurationTimeout.mongo-db-sapi.connectionIdleTimeout}"/>
	</http:request-config>
	<http:request-config name="HTTP_Request_configuration_sisext" doc:name="HTTP Request configuration" doc:id="ba07e44a-2474-4d4b-b574-06c237b59b14" basePath="${sisext-sapi.basePath}" responseTimeout="${configurationTimeout.sisext-sapi.responseTimeout}" >
		<http:request-connection protocol="${sisext-sapi.protocol}" host="${sisext-sapi.host}" port="${sisext-sapi.port}" connectionIdleTimeout="${configurationTimeout.sisext-sapi.connectionIdleTimeout}"/>
	</http:request-config>
	<http:request-config name="HTTP_Request_configuration_bot-sapi" doc:name="HTTP Request configuration" doc:id="6b5b58db-bc33-4ee6-9632-8a8a42b33fd1" basePath="${bot-sapi.basepath}" responseTimeout="${configurationTimeout.bot-sapi.responseTimeout}">
		<http:request-connection protocol="${bot-sapi.protocol}" host="${bot-sapi.host}" port="${bot-sapi.port}" connectionIdleTimeout="${configurationTimeout.bot-sapi.connectionIdleTimeout}"/>
	</http:request-config>
	<import doc:name="Import" doc:id="2cf08d7c-5988-4f4e-8cb3-cf7f7abb2b5d" file="error-handler.xml" />
	<import doc:name="Import" doc:id="14754256-9d47-4da8-9956-cb8405531926" file="loggin.xml" />
	<import doc:name="Import" doc:id="12c1fb80-fd40-4021-853a-0a3e327c45cb" file="audits-sapi-client.xml" />
	<import doc:name="Import" doc:id="f3ae5897-6260-49fb-80ad-b5cbaf58ac7d" file="etb-common-lib.xml" />
	<http:request-config name="HTTP_Request_configuration_mongo_cf" doc:name="HTTP Request configuration" doc:id="665cc2fd-cab2-459f-9012-1c111b48b086" basePath="${mongo-cf-sapi.basePath}" responseTimeout="${configurationTimeout.mongo-cf-sapi.responseTimeout}" >
		<http:request-connection protocol="${mongo-cf-sapi.protocol}" host="${mongo-cf-sapi.host}" port="${mongo-cf-sapi.port}" connectionIdleTimeout="${configurationTimeout.mongo-cf-sapi.connectionIdleTimeout}"/>
	</http:request-config>
</mule>
