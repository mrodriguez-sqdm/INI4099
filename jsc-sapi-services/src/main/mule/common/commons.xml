<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns:os="http://www.mulesoft.org/schema/mule/os"
	xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/os http://www.mulesoft.org/schema/mule/os/current/mule-os.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	<sub-flow name="get-token-sub-flow" doc:id="1fa1bfd4-9a0f-42ee-ad33-16229ff831d0" >
		<os:retrieve doc:name="Retrieve" doc:id="a26f8975-c9fb-40b6-a24f-280cb84d5fe2" key="tokenObj">
			<os:default-value ><![CDATA[#[""]]]></os:default-value>
		</os:retrieve>
		<ee:transform doc:name="Transform Message" doc:id="69e62265-e23c-4c8a-a63a-7724d14f88e9" >
			<ee:message >
				<ee:set-payload ><![CDATA["Bearer " ++ payload.accessToken]]></ee:set-payload>
			</ee:message>
			<ee:variables >
			</ee:variables>
		</ee:transform>
		<logger level="DEBUG" doc:name="Logger" doc:id="6dcd92e3-49db-41b7-8bd6-291d12495111" message='#["Token actual: " ++ payload]'/>
	</sub-flow>
</mule>
