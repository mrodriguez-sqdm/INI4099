<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:java="http://www.mulesoft.org/schema/mule/java" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/java http://www.mulesoft.org/schema/mule/java/current/mule-java.xsd">
	<sub-flow name="post-sendMessage-clientSub_Flow" doc:id="6bdaf0be-c9c6-458e-8be4-71804d016def" >
		<try doc:name="Try" doc:id="525a776f-fe43-4143-8917-1d165bf82871" >
			<java:invoke-static doc:name="Invoke smpp client" doc:id="93d1765d-b444-42dc-abda-dd85bda30f20" class="com.etb.smpp.SmppService" method="sendSMS(String, String, String, String, String, String)">
			<java:args><![CDATA[#[{
      host: p('smpp.host'),
      port: p('smpp.port'),
      systemId: p('smpp.systemId'),
      password: p('smpp.password'),
      phoneNumber: payload.phoneNumber,
      message: payload.message
}]]]></java:args>
		</java:invoke-static>
			<error-handler >
				<on-error-continue enableNotifications="true" logException="true" doc:name="On Error Continue" doc:id="21893b1b-f4de-4d75-aff4-aa2399949476" >
					<set-payload value="#[null]" doc:name="Set null messageId" doc:id="c2bb8272-d0b9-4c3f-8d2c-b29069f25e32" />
				</on-error-continue>
			</error-handler>
		</try>
	</sub-flow>
</mule>
