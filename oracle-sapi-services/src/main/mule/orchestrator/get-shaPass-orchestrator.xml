<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	<sub-flow name="get-shaPass-orchestrator.xml" doc:id="ae25c79b-8f62-4a83-89ea-4963039500bd" >
		<ee:transform doc:name="Get shaPass" doc:id="e8387889-3cf1-4e9d-a279-d2bfb8a2c699">
			<ee:message />
			<ee:variables>
				<ee:set-variable variableName="shaPass"><![CDATA[%dw 2.0
import java!javaclass::ConvertSHAJavaCode
output application/json
var shaLogin = p('oracle-ocs.shalogin')
var shaPass = p('oracle-ocs.shapass')
var firstStep = ConvertSHAJavaCode::shaToJava(shaLogin)
var secondStep = ConvertSHAJavaCode::shaToJava(shaPass ++ firstStep)
var actualDate = now()
var result = ConvertSHAJavaCode::shaToJava( actualDate ++ secondStep)
---
{
	"shaLogin": shaLogin,
	"shaPass": result,
	"now": actualDate
}]]></ee:set-variable>
			</ee:variables>
		</ee:transform>
	</sub-flow>
</mule>
